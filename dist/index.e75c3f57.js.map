{"mappings":"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","sources":["js/jquery.fancybox.js"],"sourcesContent":["// ==================================================\n// fancyBox v3.2.10\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2017 fancyApps\n//\n// ==================================================\n;(function (window, document, $, undefined) {\n    'use strict';\n\n    // If there's no jQuery, fancyBox can't work\n    // =========================================\n\n    if ( !$ ) {\n        return;\n    }\n\n    // Check if fancyBox is already initialized\n    // ========================================\n\n    if ( $.fn.fancybox ) {\n\n        if ( 'console' in window ) {\n            console.log( 'fancyBox already initialized' );\n        }\n\n        return;\n    }\n\n    // Private default settings\n    // ========================\n\n    var defaults = {\n\n        // Enable infinite gallery navigation\n        loop : false,\n\n        // Space around image, ignored if zoomed-in or viewport width is smaller than 800px\n        margin : [44, 0],\n\n        // Horizontal space between slides\n        gutter : 50,\n\n        // Enable keyboard navigation\n        keyboard : true,\n\n        // Should display navigation arrows at the screen edges\n        arrows : true,\n\n        // Should display infobar (counter and arrows at the top)\n        infobar : true,\n\n        // Should display toolbar (buttons at the top)\n        toolbar : true,\n\n        // What buttons should appear in the top right corner.\n        // Buttons will be created using templates from `btnTpl` option\n        // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n        buttons : [\n            'slideShow',\n            'fullScreen',\n            'thumbs',\n            'share',\n            //'download',\n            //'zoom',\n            'close'\n        ],\n\n        // Detect \"idle\" time in seconds\n        idleTime : 3,\n\n        // Should display buttons at top right corner of the content\n        // If 'auto' - they will be created for content having type 'html', 'inline' or 'ajax'\n        // Use template from `btnTpl.smallBtn` for customization\n        smallBtn : 'auto',\n\n        // Disable right-click and use simple image protection for images\n        protect : false,\n\n        // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n        modal : false,\n\n        image : {\n\n            // Wait for images to load before displaying\n            // Requires predefined image dimensions\n            // If 'auto' - will zoom in thumbnail if 'width' and 'height' attributes are found\n            preload : \"auto\"\n\n        },\n\n        ajax : {\n\n            // Object containing settings for ajax request\n            settings : {\n\n                // This helps to indicate that request comes from the modal\n                // Feel free to change naming\n                data : {\n                    fancybox : true\n                }\n            }\n\n        },\n\n        iframe : {\n\n            // Iframe template\n            tpl : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\n\n            // Preload iframe before displaying it\n            // This allows to calculate iframe content width and height\n            // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n            preload : true,\n\n            // Custom CSS styling for iframe wrapping element\n            // You can use this to set custom iframe dimensions\n            css : {},\n\n            // Iframe tag attributes\n            attr : {\n                scrolling : 'auto'\n            }\n\n        },\n\n        // Default content type if cannot be detected automatically\n        defaultType : 'image',\n\n        // Open/close animation type\n        // Possible values:\n        //   false            - disable\n        //   \"zoom\"           - zoom images from/to thumbnail\n        //   \"fade\"\n        //   \"zoom-in-out\"\n        //\n        animationEffect : \"zoom\",\n\n        // Duration in ms for open/close animation\n        animationDuration : 500,\n\n        // Should image change opacity while zooming\n        // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n        zoomOpacity : \"auto\",\n\n        // Transition effect between slides\n        //\n        // Possible values:\n        //   false            - disable\n        //   \"fade'\n        //   \"slide'\n        //   \"circular'\n        //   \"tube'\n        //   \"zoom-in-out'\n        //   \"rotate'\n        //\n        transitionEffect : \"fade\",\n\n        // Duration in ms for transition animation\n        transitionDuration : 366,\n\n        // Custom CSS class for slide element\n        slideClass : '',\n\n        // Custom CSS class for layout\n        baseClass : '',\n\n        // Base template for layout\n        baseTpl\t:\n            '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n                '<div class=\"fancybox-bg\"></div>' +\n                '<div class=\"fancybox-inner\">' +\n                    '<div class=\"fancybox-infobar\">' +\n                        '<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>' +\n                    '</div>' +\n                    '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\n                    '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\n                    '<div class=\"fancybox-stage\"></div>' +\n                    '<div class=\"fancybox-caption-wrap\"><div class=\"fancybox-caption\"></div></div>' +\n                '</div>' +\n            '</div>',\n\n        // Loading indicator template\n        spinnerTpl : '<div class=\"fancybox-loading\"></div>',\n\n        // Error message template\n        errorTpl : '<div class=\"fancybox-error\"><p>{{ERROR}}<p></div>',\n\n        btnTpl : {\n\n            download : '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\">' +\n                        '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M20,23 L20,8 L20,23 L13,16 L20,23 L27,16 L20,23 M26,28 L13,28 L27,28 L14,28\" />' +\n                        '</svg>' +\n                    '</a>',\n\n            zoom : '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\n                        '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M 18,17 m-8,0 a 8,8 0 1,0 16,0 a 8,8 0 1,0 -16,0 M25,23 L31,29 L25,23\" />' +\n                        '</svg>' +\n                    '</button>',\n\n            close : '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\n                        '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M10,10 L30,30 M30,10 L10,30\" />' +\n                        '</svg>' +\n                    '</button>',\n\n            // This small close button will be appended to your html/inline/ajax content by default,\n            // if \"smallBtn\" option is not set to false\n            smallBtn   : '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"></button>',\n\n            // Arrows\n            arrowLeft : '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\n                            '<svg viewBox=\"0 0 40 40\">' +\n                              '<path d=\"M10,20 L30,20 L10,20 L18,28 L10,20 L18,12 L10,20\"></path>' +\n                            '</svg>' +\n                          '</button>',\n\n            arrowRight : '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\n                          '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M30,20 L10,20 L30,20 L22,28 L30,20 L22,12 L30,20\"></path>' +\n                          '</svg>' +\n                        '</button>'\n        },\n\n        // Container is injected into this element\n        parentEl : 'body',\n\n\n        // Focus handling\n        // ==============\n\n        // Try to focus on the first focusable element after opening\n        autoFocus : false,\n\n        // Put focus back to active element after closing\n        backFocus : true,\n\n        // Do not let user to focus on element outside modal content\n        trapFocus : true,\n\n\n        // Module specific options\n        // =======================\n\n        fullScreen : {\n            autoStart : false,\n        },\n\n        // Set `touch: false` to disable dragging/swiping\n        touch : {\n            vertical : true,  // Allow to drag content vertically\n            momentum : true   // Continue movement after releasing mouse/touch when panning\n        },\n\n        // Hash value when initializing manually,\n        // set `false` to disable hash change\n        hash : null,\n\n        // Customize or add new media types\n        // Example:\n        /*\n        media : {\n            youtube : {\n                params : {\n                    autoplay : 0\n                }\n            }\n        }\n        */\n        media : {},\n\n        slideShow : {\n            autoStart : false,\n            speed     : 4000\n        },\n\n        thumbs : {\n\t\t\tautoStart   : false,                  // Display thumbnails on opening\n\t\t\thideOnClose : true,                   // Hide thumbnail grid when closing animation starts\n\t\t\tparentEl    : '.fancybox-container',  // Container is injected into this element\n\t\t\taxis        : 'y'                     // Vertical (y) or horizontal (x) scrolling\n\t\t},\n\n        // Use mousewheel to navigate gallery\n        // If 'auto' - enabled for images only\n        wheel : 'auto',\n\n        // Callbacks\n        //==========\n\n        // See Documentation/API/Events for more information\n        // Example:\n        /*\n            afterShow: function( instance, current ) {\n                 console.info( 'Clicked element:' );\n                 console.info( current.opts.$orig );\n            }\n        */\n\n        onInit       : $.noop,  // When instance has been initialized\n\n        beforeLoad   : $.noop,  // Before the content of a slide is being loaded\n        afterLoad    : $.noop,  // When the content of a slide is done loading\n\n        beforeShow   : $.noop,  // Before open animation starts\n        afterShow    : $.noop,  // When content is done loading and animating\n\n        beforeClose  : $.noop,  // Before the instance attempts to close. Return false to cancel the close.\n        afterClose   : $.noop,  // After instance has been closed\n\n        onActivate   : $.noop,  // When instance is brought to front\n        onDeactivate : $.noop,  // When other instance has been activated\n\n\n        // Interaction\n        // ===========\n\n        // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n        // each option can be string or method that returns value.\n        //\n        // Possible values:\n        //   \"close\"           - close instance\n        //   \"next\"            - move to next gallery item\n        //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n        //   \"toggleControls\"  - show/hide controls\n        //   \"zoom\"            - zoom image (if loaded)\n        //   false             - do nothing\n\n        // Clicked on the content\n        clickContent : function( current, event ) {\n            return current.type === 'image' ? 'zoom' : false;\n        },\n\n        // Clicked on the slide\n        clickSlide : 'close',\n\n        // Clicked on the background (backdrop) element\n        clickOutside : 'close',\n\n        // Same as previous two, but for double click\n        dblclickContent : false,\n        dblclickSlide   : false,\n        dblclickOutside : false,\n\n\n        // Custom options when mobile device is detected\n        // =============================================\n\n        mobile : {\n            idleTime : false,\n            margin   : 0,\n\n            clickContent : function( current, event ) {\n                return current.type === 'image' ? 'toggleControls' : false;\n            },\n            clickSlide : function( current, event ) {\n                return current.type === 'image' ? 'toggleControls' : 'close';\n            },\n            dblclickContent : function( current, event ) {\n                return current.type === 'image' ? 'zoom' : false;\n            },\n            dblclickSlide : function( current, event ) {\n                return current.type === 'image' ? 'zoom' : false;\n            }\n        },\n\n\n        // Internationalization\n        // ============\n\n        lang : 'en',\n        i18n : {\n            'en' : {\n                CLOSE       : 'Close',\n                NEXT        : 'Next',\n                PREV        : 'Previous',\n                ERROR       : 'The requested content cannot be loaded. <br/> Please try again later.',\n                PLAY_START  : 'Start slideshow',\n                PLAY_STOP   : 'Pause slideshow',\n                FULL_SCREEN : 'Full screen',\n                THUMBS      : 'Thumbnails',\n                DOWNLOAD    : 'Download',\n                SHARE       : 'Share',\n                ZOOM        : 'Zoom'\n            },\n            'de' : {\n                CLOSE       : 'Schliessen',\n                NEXT        : 'Weiter',\n                PREV        : 'Zurck',\n                ERROR       : 'Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.',\n                PLAY_START  : 'Diaschau starten',\n                PLAY_STOP   : 'Diaschau beenden',\n                FULL_SCREEN : 'Vollbild',\n                THUMBS      : 'Vorschaubilder',\n                DOWNLOAD    : 'Herunterladen',\n                SHARE       : 'Teilen',\n                ZOOM        : 'Mastab'\n            }\n        }\n\n    };\n\n    // Few useful variables and methods\n    // ================================\n\n    var $W = $(window);\n    var $D = $(document);\n\n    var called = 0;\n\n\n    // Check if an object is a jQuery object and not a native JavaScript object\n    // ========================================================================\n\n    var isQuery = function ( obj ) {\n        return obj && obj.hasOwnProperty && obj instanceof $;\n    };\n\n\n    // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n    // ===============================================================================\n\n    var requestAFrame = (function () {\n        return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                window.oRequestAnimationFrame ||\n                // if all else fails, use setTimeout\n                function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n    })();\n\n\n    // Detect the supported transition-end event property name\n    // =======================================================\n\n    var transitionEnd = (function () {\n        var t, el = document.createElement(\"fakeelement\");\n\n        var transitions = {\n            \"transition\"      : \"transitionend\",\n            \"OTransition\"     : \"oTransitionEnd\",\n            \"MozTransition\"   : \"transitionend\",\n            \"WebkitTransition\": \"webkitTransitionEnd\"\n        };\n\n        for (t in transitions) {\n            if (el.style[t] !== undefined){\n                return transitions[t];\n            }\n        }\n\n        return 'transitionend';\n    })();\n\n\n    // Force redraw on an element.\n    // This helps in cases where the browser doesn't redraw an updated element properly.\n    // =================================================================================\n\n    var forceRedraw = function( $el ) {\n        return ( $el && $el.length && $el[0].offsetHeight );\n    };\n\n\n    // Class definition\n    // ================\n\n    var FancyBox = function( content, opts, index ) {\n        var self = this;\n\n        self.opts = $.extend( true, { index : index }, $.fancybox.defaults, opts || {} );\n\n        if ( $.fancybox.isMobile ) {\n            self.opts = $.extend( true, {}, self.opts, self.opts.mobile );\n        }\n\n        // Exclude buttons option from deep merging\n        if ( opts && $.isArray( opts.buttons ) ) {\n            self.opts.buttons = opts.buttons;\n        }\n\n        self.id    = self.opts.id || ++called;\n        self.group = [];\n\n        self.currIndex = parseInt( self.opts.index, 10 ) || 0;\n        self.prevIndex = null;\n\n        self.prevPos = null;\n        self.currPos = 0;\n\n        self.firstRun = null;\n\n        // Create group elements from original item collection\n        self.createGroup( content );\n\n        if ( !self.group.length ) {\n            return;\n        }\n\n        // Save last active element and current scroll position\n        self.$lastFocus = $(document.activeElement).blur();\n\n        // Collection of gallery objects\n        self.slides = {};\n\n        self.init();\n    };\n\n    $.extend(FancyBox.prototype, {\n\n        // Create DOM structure\n        // ====================\n\n        init : function() {\n            var self = this,\n                firstItem      = self.group[ self.currIndex ],\n                firstItemOpts  = firstItem.opts,\n                scrollbarWidth = $.fancybox.scrollbarWidth,\n                $scrollDiv,\n                $container,\n                buttonStr;\n\n            self.scrollTop  = $D.scrollTop();\n            self.scrollLeft = $D.scrollLeft();\n\n\n            // Hide scrollbars\n            // ===============\n\n            if ( !$.fancybox.getInstance() ) {\n\n                $( 'body' ).addClass( 'fancybox-active' );\n\n                // iOS hack\n                if ( /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ) {\n\n                    // iOS has problems for input elements inside fixed containers,\n                    // the workaround is to apply `position: fixed` to `<body>` element,\n                    // unfortunately, this makes it lose the scrollbars and forces address bar to appear.\n\n                    if ( firstItem.type !== 'image' ) {\n                        $( 'body' ).css( 'top', $( 'body' ).scrollTop() * -1 ).addClass( 'fancybox-iosfix' );\n                    }\n\n                } else if ( !$.fancybox.isMobile && document.body.scrollHeight > window.innerHeight ) {\n\n                    if ( scrollbarWidth === undefined ) {\n                        $scrollDiv = $('<div style=\"width:50px;height:50px;overflow:scroll;\" />').appendTo( 'body' );\n\n                        scrollbarWidth = $.fancybox.scrollbarWidth = $scrollDiv[0].offsetWidth - $scrollDiv[0].clientWidth;\n\n                        $scrollDiv.remove();\n                    }\n\n                    $( 'head' ).append( '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar { margin-right: ' + scrollbarWidth + 'px; }</style>' );\n                    $( 'body' ).addClass( 'compensate-for-scrollbar' );\n                }\n            }\n\n\n            // Build html markup and set references\n            // ====================================\n\n            // Build html code for buttons and insert into main template\n            buttonStr = '';\n\n            $.each( firstItemOpts.buttons, function( index, value ) {\n                buttonStr += ( firstItemOpts.btnTpl[ value ] || '' );\n            });\n\n            // Create markup from base template, it will be initially hidden to\n            // avoid unnecessary work like painting while initializing is not complete\n            $container = $(\n                self.translate( self,\n                    firstItemOpts.baseTpl\n                        .replace( '\\{\\{buttons\\}\\}', buttonStr )\n                        .replace( '\\{\\{arrows\\}\\}', firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight )\n                )\n            )\n                .attr( 'id', 'fancybox-container-' + self.id )\n                .addClass( 'fancybox-is-hidden' )\n                .addClass( firstItemOpts.baseClass )\n                .data( 'FancyBox', self )\n                .appendTo( firstItemOpts.parentEl );\n\n            // Create object holding references to jQuery wrapped nodes\n            self.$refs = {\n                container : $container\n            };\n\n            [ 'bg', 'inner', 'infobar', 'toolbar', 'stage', 'caption', 'navigation' ].forEach(function(item) {\n                self.$refs[ item ] = $container.find( '.fancybox-' + item );\n            });\n\n            self.trigger( 'onInit' );\n\n            // Enable events, deactive previous instances\n            self.activate();\n\n            // Build slides, load and reveal content\n            self.jumpTo( self.currIndex );\n        },\n\n\n        // Simple i18n support - replaces object keys found in template\n        // with corresponding values\n        // ============================================================\n\n        translate : function( obj, str ) {\n            var arr = obj.opts.i18n[ obj.opts.lang ];\n\n            return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\n                var value = arr[n];\n\n                if ( value === undefined ) {\n                    return match;\n                }\n\n                return value;\n            });\n        },\n\n        // Create array of gally item objects\n        // Check if each object has valid type and content\n        // ===============================================\n\n        createGroup : function ( content ) {\n            var self  = this;\n            var items = $.makeArray( content );\n\n            $.each(items, function( i, item ) {\n                var obj  = {},\n                    opts = {},\n                    $item,\n                    type,\n                    found,\n                    src,\n                    srcParts;\n\n                // Step 1 - Make sure we have an object\n                // ====================================\n\n                if ( $.isPlainObject( item ) ) {\n\n                    // We probably have manual usage here, something like\n                    // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n                    obj  = item;\n                    opts = item.opts || item;\n\n                } else if ( $.type( item ) === 'object' && $( item ).length ) {\n\n                    // Here we probably have jQuery collection returned by some selector\n                    $item = $( item );\n\n                    opts = $item.data();\n                    opts = $.extend( {}, opts, opts.options || {} );\n\n                    // Here we store clicked element\n                    opts.$orig = $item;\n\n                    obj.src = opts.src || $item.attr( 'href' );\n\n                    // Assume that simple syntax is used, for example:\n                    //   `$.fancybox.open( $(\"#test\"), {} );`\n                    if ( !obj.type && !obj.src ) {\n                        obj.type = 'inline';\n                        obj.src  = item;\n                    }\n\n                } else {\n\n                    // Assume we have a simple html code, for example:\n                    //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n\n                    obj = {\n                        type : 'html',\n                        src  : item + ''\n                    };\n\n                }\n\n                // Each gallery object has full collection of options\n                obj.opts = $.extend( true, {}, self.opts, opts );\n\n                // Do not merge buttons array\n                if ( $.isArray( opts.buttons ) ) {\n                    obj.opts.buttons = opts.buttons;\n                }\n\n\n                // Step 2 - Make sure we have content type, if not - try to guess\n                // ==============================================================\n\n                type = obj.type || obj.opts.type;\n                src  = obj.src || '';\n\n                if ( !type && src ) {\n                    if ( src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i) ) {\n                        type = 'image';\n\n                    } else if ( src.match(/\\.(pdf)((\\?|#).*)?$/i) ) {\n                        type = 'pdf';\n\n                    } else if ( found = src.match(/\\.(mp4|mov|ogv)((\\?|#).*)?$/i) ) {\n                        type = 'video';\n\n                        if ( !obj.opts.videoFormat ) {\n                            obj.opts.videoFormat = 'video/' + ( found[1] === 'ogv' ? 'ogg' : found[1] );\n                        }\n\n                    } else if ( src.charAt(0) === '#' ) {\n                        type = 'inline';\n                    }\n                }\n\n                if ( type ) {\n                    obj.type = type;\n\n                } else {\n                    self.trigger( 'objectNeedsType', obj );\n                }\n\n\n                // Step 3 - Some adjustments\n                // =========================\n\n                obj.index = self.group.length;\n\n                // Check if $orig and $thumb objects exist\n                if ( obj.opts.$orig && !obj.opts.$orig.length ) {\n                    delete obj.opts.$orig;\n                }\n\n                if ( !obj.opts.$thumb && obj.opts.$orig ) {\n                    obj.opts.$thumb = obj.opts.$orig.find( 'img:first' );\n                }\n\n                if ( obj.opts.$thumb && !obj.opts.$thumb.length ) {\n                    delete obj.opts.$thumb;\n                }\n\n                // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item ..\n                if ( $.type( obj.opts.caption ) === 'function' ) {\n                    obj.opts.caption = obj.opts.caption.apply( item, [ self, obj ] );\n                }\n\n                if ( $.type( self.opts.caption ) === 'function' ) {\n                    obj.opts.caption = self.opts.caption.apply( item, [ self, obj ] );\n                }\n\n                // Make sure we have caption as a string or jQuery object\n                if ( !( obj.opts.caption instanceof $ ) ) {\n                    obj.opts.caption = obj.opts.caption === undefined ? '' : obj.opts.caption + '';\n                }\n\n                // Check if url contains \"filter\" used to filter the content\n                // Example: \"ajax.html #something\"\n                if ( type === 'ajax' ) {\n                    srcParts = src.split(/\\s+/, 2);\n\n                    if ( srcParts.length > 1 ) {\n                        obj.src = srcParts.shift();\n\n                        obj.opts.filter = srcParts.shift();\n                    }\n                }\n\n                if ( obj.opts.smallBtn == 'auto' ) {\n\n                    if ( $.inArray( type, ['html', 'inline', 'ajax'] ) > -1 ) {\n                        obj.opts.toolbar  = false;\n                        obj.opts.smallBtn = true;\n\n                    } else {\n                        obj.opts.smallBtn = false;\n                    }\n\n                }\n\n                // If the type is \"pdf\", then simply load file into iframe\n                if ( type === 'pdf' ) {\n                    obj.type = 'iframe';\n\n                    obj.opts.iframe.preload = false;\n                }\n\n                // Hide all buttons and disable interactivity for modal items\n                if ( obj.opts.modal ) {\n\n                    obj.opts = $.extend(true, obj.opts, {\n                        // Remove buttons\n                        infobar : 0,\n                        toolbar : 0,\n\n                        smallBtn : 0,\n\n                        // Disable keyboard navigation\n                        keyboard : 0,\n\n                        // Disable some modules\n                        slideShow  : 0,\n                        fullScreen : 0,\n                        thumbs     : 0,\n                        touch      : 0,\n\n                        // Disable click event handlers\n                        clickContent    : false,\n                        clickSlide      : false,\n                        clickOutside    : false,\n                        dblclickContent : false,\n                        dblclickSlide   : false,\n                        dblclickOutside : false\n                    });\n\n                }\n\n                // Step 4 - Add processed object to group\n                // ======================================\n\n                self.group.push( obj );\n\n            });\n\n        },\n\n\n        // Attach an event handler functions for:\n        //   - navigation buttons\n        //   - browser scrolling, resizing;\n        //   - focusing\n        //   - keyboard\n        //   - detect idle\n        // ======================================\n\n        addEvents : function() {\n            var self = this;\n\n            self.removeEvents();\n\n            // Make navigation elements clickable\n            self.$refs.container.on('click.fb-close', '[data-fancybox-close]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.close( e );\n\n            }).on( 'click.fb-prev touchend.fb-prev', '[data-fancybox-prev]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.previous();\n\n            }).on( 'click.fb-next touchend.fb-next', '[data-fancybox-next]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.next();\n\n            }).on( 'click.fb', '[data-fancybox-zoom]', function(e) {\n                // Click handler for zoom button\n                self[ self.isScaledDown() ? 'scaleToActual' : 'scaleToFit' ]();\n            });\n\n\n            // Handle page scrolling and browser resizing\n            $W.on('orientationchange.fb resize.fb', function(e) {\n\n                if ( e && e.originalEvent && e.originalEvent.type === \"resize\" ) {\n\n                    requestAFrame(function() {\n                        self.update();\n                    });\n\n                } else {\n\n                    self.$refs.stage.hide();\n\n                    setTimeout(function() {\n                        self.$refs.stage.show();\n\n                        self.update();\n                    }, 600);\n\n                }\n\n            });\n\n            // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\n            // (a.k.a. \"escaping the modal\")\n            $D.on('focusin.fb', function(e) {\n                var instance = $.fancybox ? $.fancybox.getInstance() : null;\n\n                if ( instance.isClosing || !instance.current || !instance.current.opts.trapFocus || $( e.target ).hasClass( 'fancybox-container' ) || $( e.target ).is( document ) ) {\n                    return;\n                }\n\n                if ( instance && $( e.target ).css( 'position' ) !== 'fixed' && !instance.$refs.container.has( e.target ).length ) {\n                    e.stopPropagation();\n\n                    instance.focus();\n\n                    // Sometimes page gets scrolled, set it back\n                    $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\n                }\n            });\n\n\n            // Enable keyboard navigation\n            $D.on('keydown.fb', function (e) {\n                var current = self.current,\n                    keycode = e.keyCode || e.which;\n\n                if ( !current || !current.opts.keyboard ) {\n                    return;\n                }\n\n                if ( $(e.target).is('input') || $(e.target).is('textarea') ) {\n                    return;\n                }\n\n                // Backspace and Esc keys\n                if ( keycode === 8 || keycode === 27 ) {\n                    e.preventDefault();\n\n                    self.close( e );\n\n                    return;\n                }\n\n                // Left arrow and Up arrow\n                if ( keycode === 37 || keycode === 38 ) {\n                    e.preventDefault();\n\n                    self.previous();\n\n                    return;\n                }\n\n                // Righ arrow and Down arrow\n                if ( keycode === 39 || keycode === 40 ) {\n                    e.preventDefault();\n\n                    self.next();\n\n                    return;\n                }\n\n                self.trigger('afterKeydown', e, keycode);\n            });\n\n\n            // Hide controls after some inactivity period\n            if ( self.group[ self.currIndex ].opts.idleTime ) {\n                self.idleSecondsCounter = 0;\n\n                $D.on('mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle', function(e) {\n                    self.idleSecondsCounter = 0;\n\n                    if ( self.isIdle ) {\n                        self.showControls();\n                    }\n\n                    self.isIdle = false;\n                });\n\n                self.idleInterval = window.setInterval(function() {\n                    self.idleSecondsCounter++;\n\n                    if ( self.idleSecondsCounter >= self.group[ self.currIndex ].opts.idleTime && !self.isDragging ) {\n                        self.isIdle = true;\n                        self.idleSecondsCounter = 0;\n\n                        self.hideControls();\n                    }\n\n                }, 1000);\n            }\n\n        },\n\n\n        // Remove events added by the core\n        // ===============================\n\n        removeEvents : function() {\n            var self = this;\n\n            $W.off( 'orientationchange.fb resize.fb' );\n            $D.off( 'focusin.fb keydown.fb .fb-idle' );\n\n            this.$refs.container.off( '.fb-close .fb-prev .fb-next' );\n\n            if ( self.idleInterval ) {\n                window.clearInterval( self.idleInterval );\n\n                self.idleInterval = null;\n            }\n        },\n\n\n        // Change to previous gallery item\n        // ===============================\n\n        previous : function( duration ) {\n            return this.jumpTo( this.currPos - 1, duration );\n        },\n\n\n        // Change to next gallery item\n        // ===========================\n\n        next : function( duration ) {\n            return this.jumpTo( this.currPos + 1, duration );\n        },\n\n\n        // Switch to selected gallery item\n        // ===============================\n\n        jumpTo : function ( pos, duration, slide ) {\n            var self = this,\n                firstRun,\n                loop,\n                current,\n                previous,\n                canvasWidth,\n                currentPos,\n                transitionProps;\n\n            var groupLen = self.group.length;\n\n            if ( self.isDragging || self.isClosing || ( self.isAnimating && self.firstRun ) ) {\n                return;\n            }\n\n            pos  = parseInt( pos, 10 );\n            loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n            if ( !loop && ( pos < 0 || pos >= groupLen ) ) {\n                return false;\n            }\n\n            firstRun = self.firstRun = ( self.firstRun === null );\n\n            if ( groupLen < 2 && !firstRun && !!self.isDragging ) {\n                return;\n            }\n\n            previous = self.current;\n\n            self.prevIndex = self.currIndex;\n            self.prevPos   = self.currPos;\n\n            // Create slides\n            current = self.createSlide( pos );\n\n            if ( groupLen > 1 ) {\n                if ( loop || current.index > 0 ) {\n                    self.createSlide( pos - 1 );\n                }\n\n                if ( loop || current.index < groupLen - 1 ) {\n                    self.createSlide( pos + 1 );\n                }\n            }\n\n            self.current   = current;\n            self.currIndex = current.index;\n            self.currPos   = current.pos;\n\n            self.trigger( 'beforeShow', firstRun );\n\n            self.updateControls();\n\n            currentPos = $.fancybox.getTranslate( current.$slide );\n\n            current.isMoved        = ( currentPos.left !== 0 || currentPos.top !== 0 ) && !current.$slide.hasClass( 'fancybox-animated' );\n            current.forcedDuration = undefined;\n\n            if ( $.isNumeric( duration ) ) {\n                current.forcedDuration = duration;\n            } else {\n                duration = current.opts[ firstRun ? 'animationDuration' : 'transitionDuration' ];\n            }\n\n            duration = parseInt( duration, 10 );\n\n            // Fresh start - reveal container, current slide and start loading content\n            if ( firstRun ) {\n\n                if ( current.opts.animationEffect && duration ) {\n                    self.$refs.container.css( 'transition-duration', duration + 'ms' );\n                }\n\n                self.$refs.container.removeClass( 'fancybox-is-hidden' );\n\n                forceRedraw( self.$refs.container );\n\n                self.$refs.container.addClass( 'fancybox-is-open' );\n\n                // Make first slide visible (to display loading icon, if needed)\n                current.$slide.addClass( 'fancybox-slide--current' );\n\n                self.loadSlide( current );\n\n                self.preload( 'image' );\n\n                return;\n            }\n\n            // Clean up\n            $.each(self.slides, function( index, slide ) {\n                $.fancybox.stop( slide.$slide );\n            });\n\n            // Make current that slide is visible even if content is still loading\n            current.$slide.removeClass( 'fancybox-slide--next fancybox-slide--previous' ).addClass( 'fancybox-slide--current' );\n\n            // If slides have been dragged, animate them to correct position\n            if ( current.isMoved ) {\n                canvasWidth = Math.round( current.$slide.width() );\n\n                $.each(self.slides, function( index, slide ) {\n                    var pos = slide.pos - current.pos;\n\n                    $.fancybox.animate( slide.$slide, {\n                        top  : 0,\n                        left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter )\n                    }, duration, function() {\n\n                        slide.$slide.removeAttr('style').removeClass( 'fancybox-slide--next fancybox-slide--previous' );\n\n                        if ( slide.pos === self.currPos ) {\n                            current.isMoved = false;\n\n                            self.complete();\n                        }\n                    });\n                });\n\n            } else {\n                self.$refs.stage.children().removeAttr( 'style' );\n            }\n\n            // Start transition that reveals current content\n            // or wait when it will be loaded\n\n            if ( current.isLoaded ) {\n                self.revealContent( current );\n\n            } else {\n                self.loadSlide( current );\n            }\n\n            self.preload( 'image' );\n\n            if ( previous.pos === current.pos ) {\n                return;\n            }\n\n            // Handle previous slide\n            // =====================\n\n            transitionProps = 'fancybox-slide--' + ( previous.pos > current.pos ? 'next' : 'previous' );\n\n            previous.$slide.removeClass( 'fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous' );\n\n            previous.isComplete = false;\n\n            if ( !duration || ( !current.isMoved && !current.opts.transitionEffect ) ) {\n                return;\n            }\n\n            if ( current.isMoved ) {\n                previous.$slide.addClass( transitionProps );\n\n            } else {\n\n                transitionProps = 'fancybox-animated ' + transitionProps + ' fancybox-fx-' + current.opts.transitionEffect;\n\n                $.fancybox.animate( previous.$slide, transitionProps, duration, function() {\n                    previous.$slide.removeClass( transitionProps ).removeAttr( 'style' );\n                });\n\n            }\n\n        },\n\n\n        // Create new \"slide\" element\n        // These are gallery items  that are actually added to DOM\n        // =======================================================\n\n        createSlide : function( pos ) {\n\n            var self = this;\n            var $slide;\n            var index;\n\n            index = pos % self.group.length;\n            index = index < 0 ? self.group.length + index : index;\n\n            if ( !self.slides[ pos ] && self.group[ index ] ) {\n                $slide = $('<div class=\"fancybox-slide\"></div>').appendTo( self.$refs.stage );\n\n                self.slides[ pos ] = $.extend( true, {}, self.group[ index ], {\n                    pos      : pos,\n                    $slide   : $slide,\n                    isLoaded : false,\n                });\n\n                self.updateSlide( self.slides[ pos ] );\n            }\n\n            return self.slides[ pos ];\n        },\n\n\n        // Scale image to the actual size of the image\n        // ===========================================\n\n        scaleToActual : function( x, y, duration ) {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var imgPos, posX, posY, scaleX, scaleY;\n\n            var canvasWidth  = parseInt( current.$slide.width(), 10 );\n            var canvasHeight = parseInt( current.$slide.height(), 10 );\n\n            var newImgWidth  = current.width;\n            var newImgHeight = current.height;\n\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\n                return;\n            }\n\n            $.fancybox.stop( $what );\n\n            self.isAnimating = true;\n\n            x = x === undefined ? canvasWidth  * 0.5  : x;\n            y = y === undefined ? canvasHeight * 0.5  : y;\n\n            imgPos = $.fancybox.getTranslate( $what );\n\n            scaleX  = newImgWidth  / imgPos.width;\n            scaleY  = newImgHeight / imgPos.height;\n\n            // Get center position for original image\n            posX = ( canvasWidth * 0.5  - newImgWidth * 0.5 );\n            posY = ( canvasHeight * 0.5 - newImgHeight * 0.5 );\n\n            // Make sure image does not move away from edges\n            if ( newImgWidth > canvasWidth ) {\n                posX = imgPos.left * scaleX - ( ( x * scaleX ) - x );\n\n                if ( posX > 0 ) {\n                    posX = 0;\n                }\n\n                if ( posX <  canvasWidth - newImgWidth ) {\n                    posX = canvasWidth - newImgWidth;\n                }\n            }\n\n            if ( newImgHeight > canvasHeight) {\n                posY = imgPos.top  * scaleY - ( ( y * scaleY ) - y );\n\n                if ( posY > 0 ) {\n                    posY = 0;\n                }\n\n                if ( posY <  canvasHeight - newImgHeight ) {\n                    posY = canvasHeight - newImgHeight;\n                }\n            }\n\n            self.updateCursor( newImgWidth, newImgHeight );\n\n            $.fancybox.animate( $what, {\n                top    : posY,\n                left   : posX,\n                scaleX : scaleX,\n                scaleY : scaleY\n            }, duration || 330, function() {\n                self.isAnimating = false;\n            });\n\n            // Stop slideshow\n            if ( self.SlideShow && self.SlideShow.isActive ) {\n                self.SlideShow.stop();\n            }\n        },\n\n\n        // Scale image to fit inside parent element\n        // ========================================\n\n        scaleToFit : function( duration ) {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n            var end;\n\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\n                return;\n            }\n\n            $.fancybox.stop( $what );\n\n            self.isAnimating = true;\n\n            end = self.getFitPos( current );\n\n            self.updateCursor( end.width, end.height );\n\n            $.fancybox.animate( $what, {\n                top    : end.top,\n                left   : end.left,\n                scaleX : end.width  / $what.width(),\n                scaleY : end.height / $what.height()\n            }, duration || 330, function() {\n                self.isAnimating = false;\n            });\n\n        },\n\n        // Calculate image size to fit inside viewport\n        // ===========================================\n\n        getFitPos : function( slide ) {\n            var self  = this;\n            var $what = slide.$content;\n\n            var imgWidth  = slide.width;\n            var imgHeight = slide.height;\n\n            var margin = slide.opts.margin;\n\n            var canvasWidth, canvasHeight, minRatio, width, height;\n\n            if ( !$what || !$what.length || ( !imgWidth && !imgHeight) ) {\n                return false;\n            }\n\n            // Convert \"margin to CSS style: [ top, right, bottom, left ]\n            if ( $.type( margin ) === \"number\" ) {\n                margin = [ margin, margin ];\n            }\n\n            if ( margin.length == 2 ) {\n                margin = [ margin[0], margin[1], margin[0], margin[1] ];\n            }\n\n            // We can not use $slide width here, because it can have different diemensions while in transiton\n            canvasWidth  = parseInt( self.$refs.stage.width(), 10 )  - ( margin[ 1 ] + margin[ 3 ] );\n            canvasHeight = parseInt( self.$refs.stage.height(), 10 ) - ( margin[ 0 ] + margin[ 2 ] );\n\n            minRatio = Math.min(1, canvasWidth / imgWidth, canvasHeight / imgHeight );\n\n            width  = Math.floor( minRatio * imgWidth );\n            height = Math.floor( minRatio * imgHeight );\n\n            // Use floor rounding to make sure it really fits\n            return {\n                top    : Math.floor( ( canvasHeight - height ) * 0.5 ) + margin[ 0 ],\n                left   : Math.floor( ( canvasWidth  - width )  * 0.5 ) + margin[ 3 ],\n                width  : width,\n                height : height\n            };\n\n        },\n\n\n        // Update content size and position for all slides\n        // ==============================================\n\n        update : function() {\n            var self = this;\n\n            $.each( self.slides, function( key, slide ) {\n                self.updateSlide( slide );\n            });\n        },\n\n\n        // Update slide content position and size\n        // ======================================\n\n        updateSlide : function( slide, duration ) {\n            var self  = this,\n                $what = slide && slide.$content;\n\n            if ( $what && ( slide.width || slide.height ) ) {\n                self.isAnimating = false;\n\n                $.fancybox.stop( $what );\n\n                $.fancybox.setTranslate( $what, self.getFitPos( slide ) );\n\n                if ( slide.pos === self.currPos ) {\n                    self.updateCursor();\n                }\n            }\n\n            slide.$slide.trigger( 'refresh' );\n\n            self.trigger( 'onUpdate', slide );\n\n        },\n\n\n        // Horizontally center slide\n        // =========================\n\n        centerSlide : function( slide, duration ) {\n            var self  = this, canvasWidth, pos;\n\n            if ( self.current ) {\n                canvasWidth = Math.round( slide.$slide.width() );\n                pos = slide.pos - self.current.pos;\n\n                $.fancybox.animate( slide.$slide, {\n                    top  : 0,\n                    left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter ),\n                    opacity : 1\n                }, duration === undefined ? 0 : duration, null, false);\n            }\n        },\n\n\n        // Update cursor style depending if content can be zoomed\n        // ======================================================\n\n        updateCursor : function( nextWidth, nextHeight ) {\n\n            var self = this;\n            var isScaledDown;\n\n            var $container = self.$refs.container.removeClass( 'fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut' );\n\n            if ( !self.current || self.isClosing ) {\n                return;\n            }\n\n            if ( self.isZoomable() ) {\n\n                $container.addClass( 'fancybox-is-zoomable' );\n\n                if ( nextWidth !== undefined && nextHeight !== undefined ) {\n                    isScaledDown = nextWidth < self.current.width && nextHeight < self.current.height;\n\n                } else {\n                    isScaledDown = self.isScaledDown();\n                }\n\n                if ( isScaledDown ) {\n\n                    // If image is scaled down, then, obviously, it can be zoomed to full size\n                    $container.addClass( 'fancybox-can-zoomIn' );\n\n                } else {\n\n                    if ( self.current.opts.touch ) {\n\n                        // If image size ir largen than available available and touch module is not disable,\n                        // then user can do panning\n                        $container.addClass( 'fancybox-can-drag' );\n\n                    } else {\n                        $container.addClass( 'fancybox-can-zoomOut' );\n                    }\n\n                }\n\n            } else if ( self.current.opts.touch ) {\n                $container.addClass( 'fancybox-can-drag' );\n            }\n\n        },\n\n\n        // Check if current slide is zoomable\n        // ==================================\n\n        isZoomable : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var fitPos;\n\n            if ( !current || self.isClosing ) {\n                return;\n            }\n\n            // Assume that slide is zoomable if\n            //   - image is loaded successfuly\n            //   - click action is \"zoom\"\n            //   - actual size of the image is smaller than available area\n            if ( current.type === 'image' && current.isLoaded && !current.hasError &&\n                ( current.opts.clickContent === 'zoom' || ( $.isFunction( current.opts.clickContent ) && current.opts.clickContent( current ) ===  \"zoom\" ) )\n            ) {\n\n                fitPos = self.getFitPos( current );\n\n                if ( current.width > fitPos.width || current.height > fitPos.height ) {\n                    return true;\n                }\n\n            }\n\n            return false;\n\n        },\n\n\n        // Check if current image dimensions are smaller than actual\n        // =========================================================\n\n        isScaledDown : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var rez = false;\n\n            if ( $what ) {\n                rez = $.fancybox.getTranslate( $what );\n                rez = rez.width < current.width || rez.height < current.height;\n            }\n\n            return rez;\n\n        },\n\n\n        // Check if image dimensions exceed parent element\n        // ===============================================\n\n        canPan : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var rez = false;\n\n            if ( $what ) {\n                rez = self.getFitPos( current );\n                rez = Math.abs( $what.width() - rez.width ) > 1  || Math.abs( $what.height() - rez.height ) > 1;\n            }\n\n            return rez;\n\n        },\n\n\n        // Load content into the slide\n        // ===========================\n\n        loadSlide : function( slide ) {\n\n            var self = this, type, $slide;\n            var ajaxLoad;\n\n            if ( slide.isLoading ) {\n                return;\n            }\n\n            if ( slide.isLoaded ) {\n                return;\n            }\n\n            slide.isLoading = true;\n\n            self.trigger( 'beforeLoad', slide );\n\n            type   = slide.type;\n            $slide = slide.$slide;\n\n            $slide\n                .off( 'refresh' )\n                .trigger( 'onReset' )\n                .addClass( 'fancybox-slide--' + ( type || 'unknown' ) )\n                .addClass( slide.opts.slideClass );\n\n            // Create content depending on the type\n\n            switch ( type ) {\n\n                case 'image':\n\n                    self.setImage( slide );\n\n                break;\n\n                case 'iframe':\n\n                    self.setIframe( slide );\n\n                break;\n\n                case 'html':\n\n                    self.setContent( slide, slide.src || slide.content );\n\n                break;\n\n                case 'inline':\n\n                    if ( $( slide.src ).length ) {\n                        self.setContent( slide, $( slide.src ) );\n\n                    } else {\n                        self.setError( slide );\n                    }\n\n                break;\n\n                case 'ajax':\n\n                    self.showLoading( slide );\n\n                    ajaxLoad = $.ajax( $.extend( {}, slide.opts.ajax.settings, {\n                        url : slide.src,\n                        success : function ( data, textStatus ) {\n\n                            if ( textStatus === 'success' ) {\n                                self.setContent( slide, data );\n                            }\n\n                        },\n                        error : function ( jqXHR, textStatus ) {\n\n                            if ( jqXHR && textStatus !== 'abort' ) {\n                                self.setError( slide );\n                            }\n\n                        }\n                    }));\n\n                    $slide.one( 'onReset', function () {\n                        ajaxLoad.abort();\n                    });\n\n                break;\n\n                case 'video' :\n\n                    self.setContent( slide,\n                        '<video controls>' +\n                          '<source src=\"' + slide.src + '\" type=\"' + slide.opts.videoFormat + '\">' +\n                            'Your browser doesn\\'t support HTML5 video' +\n                        '</video>'\n                    );\n\n                break;\n\n                default:\n\n                    self.setError( slide );\n\n                break;\n\n            }\n\n            return true;\n\n        },\n\n\n        // Use thumbnail image, if possible\n        // ================================\n\n        setImage : function( slide ) {\n\n            var self   = this;\n            var srcset = slide.opts.srcset || slide.opts.image.srcset;\n\n            var found, temp, pxRatio, windowWidth;\n\n            // If we have \"srcset\", then we need to find matching \"src\" value.\n            // This is necessary, because when you set an src attribute, the browser will preload the image\n            // before any javascript or even CSS is applied.\n            if ( srcset ) {\n                pxRatio     = window.devicePixelRatio || 1;\n                windowWidth = window.innerWidth  * pxRatio;\n\n                temp = srcset.split(',').map(function ( el ) {\n            \t\tvar ret = {};\n\n            \t\tel.trim().split(/\\s+/).forEach(function ( el, i ) {\n                        var value = parseInt( el.substring(0, el.length - 1), 10 );\n\n            \t\t\tif ( i === 0 ) {\n            \t\t\t\treturn ( ret.url = el );\n            \t\t\t}\n\n                        if ( value ) {\n                            ret.value   = value;\n                            ret.postfix = el[ el.length - 1 ];\n                        }\n\n            \t\t});\n\n            \t\treturn ret;\n            \t});\n\n                // Sort by value\n                temp.sort(function (a, b) {\n                  return a.value - b.value;\n                });\n\n                // Ok, now we have an array of all srcset values\n                for ( var j = 0; j < temp.length; j++ ) {\n                    var el = temp[ j ];\n\n                    if ( ( el.postfix === 'w' && el.value >= windowWidth ) || ( el.postfix === 'x' && el.value >= pxRatio ) ) {\n                        found = el;\n                        break;\n                    }\n                }\n\n                // If not found, take the last one\n                if ( !found && temp.length ) {\n                    found = temp[ temp.length - 1 ];\n                }\n\n                if ( found ) {\n                    slide.src = found.url;\n\n                    // If we have default width/height values, we can calculate height for matching source\n                    if ( slide.width && slide.height && found.postfix == 'w' ) {\n                        slide.height = ( slide.width / slide.height ) * found.value;\n                        slide.width  = found.value;\n                    }\n                }\n            }\n\n            // This will be wrapper containing both ghost and actual image\n            slide.$content = $('<div class=\"fancybox-image-wrap\"></div>')\n                .addClass( 'fancybox-is-hidden' )\n                .appendTo( slide.$slide );\n\n\n            // If we have a thumbnail, we can display it while actual image is loading\n            // Users will not stare at black screen and actual image will appear gradually\n            if ( slide.opts.preload !== false && slide.opts.width && slide.opts.height && ( slide.opts.thumb || slide.opts.$thumb ) ) {\n\n                slide.width  = slide.opts.width;\n                slide.height = slide.opts.height;\n\n                slide.$ghost = $('<img />')\n                    .one('error', function() {\n\n                        $(this).remove();\n\n                        slide.$ghost = null;\n\n                        self.setBigImage( slide );\n\n                    })\n                    .one('load', function() {\n\n                        self.afterLoad( slide );\n\n                        self.setBigImage( slide );\n\n                    })\n                    .addClass( 'fancybox-image' )\n                    .appendTo( slide.$content )\n                    .attr( 'src', slide.opts.thumb || slide.opts.$thumb.attr( 'src' ) );\n\n            } else {\n\n                self.setBigImage( slide );\n\n            }\n\n        },\n\n\n        // Create full-size image\n        // ======================\n\n        setBigImage : function ( slide ) {\n            var self = this;\n            var $img = $('<img />');\n\n            slide.$image = $img\n                .one('error', function() {\n\n                    self.setError( slide );\n\n                })\n                .one('load', function() {\n\n                    // Clear timeout that checks if loading icon needs to be displayed\n                    clearTimeout( slide.timouts );\n\n                    slide.timouts = null;\n\n                    if ( self.isClosing ) {\n                        return;\n                    }\n\n                    slide.width  = slide.opts.width  || this.naturalWidth;\n                    slide.height = slide.opts.height || this.naturalHeight;\n\n                    if ( slide.opts.image.srcset ) {\n                        $img.attr( 'sizes', '100vw' ).attr( 'srcset', slide.opts.image.srcset );\n                    }\n\n                    self.hideLoading( slide );\n\n                    if ( slide.$ghost ) {\n\n                        slide.timouts = setTimeout(function() {\n                            slide.timouts = null;\n\n                            slide.$ghost.hide();\n\n                        }, Math.min( 300, Math.max( 1000, slide.height / 1600 ) ) );\n\n                    } else {\n                        self.afterLoad( slide );\n                    }\n\n                })\n                .addClass( 'fancybox-image' )\n                .attr('src', slide.src)\n                .appendTo( slide.$content );\n\n            if ( ( $img[0].complete || $img[0].readyState == \"complete\" ) && $img[0].naturalWidth && $img[0].naturalHeight ) {\n                  $img.trigger( 'load' );\n\n            } else if( $img[0].error ) {\n                 $img.trigger( 'error' );\n\n            } else {\n\n                slide.timouts = setTimeout(function() {\n                    if ( !$img[0].complete && !slide.hasError ) {\n                        self.showLoading( slide );\n                    }\n\n                }, 100);\n\n            }\n\n        },\n\n\n        // Create iframe wrapper, iframe and bindings\n        // ==========================================\n\n        setIframe : function( slide ) {\n            var self\t= this,\n                opts    = slide.opts.iframe,\n                $slide\t= slide.$slide,\n                $iframe;\n\n            slide.$content = $('<div class=\"fancybox-content' + ( opts.preload ? ' fancybox-is-hidden' : '' ) + '\"></div>')\n                .css( opts.css )\n                .appendTo( $slide );\n\n            $iframe = $( opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()) )\n                .attr( opts.attr )\n                .appendTo( slide.$content );\n\n            if ( opts.preload ) {\n\n                self.showLoading( slide );\n\n                // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n                // (due to browser security policy)\n\n                $iframe.on('load.fb error.fb', function(e) {\n                    this.isReady = 1;\n\n                    slide.$slide.trigger( 'refresh' );\n\n                    self.afterLoad( slide );\n                });\n\n                // Recalculate iframe content size\n                // ===============================\n\n                $slide.on('refresh.fb', function() {\n                    var $wrap = slide.$content,\n                        frameWidth  = opts.css.width,\n                        frameHeight = opts.css.height,\n                        scrollWidth,\n                        $contents,\n                        $body;\n\n                    if ( $iframe[0].isReady !== 1 ) {\n                        return;\n                    }\n\n                    // Check if content is accessible,\n                    // it will fail if frame is not with the same origin\n\n                    try {\n                        $contents = $iframe.contents();\n                        $body     = $contents.find('body');\n\n                    } catch (ignore) {}\n\n                    // Calculate dimensions for the wrapper\n                    if ( $body && $body.length ) {\n\n                        if ( frameWidth === undefined ) {\n                            scrollWidth = $iframe[0].contentWindow.document.documentElement.scrollWidth;\n\n                            frameWidth = Math.ceil( $body.outerWidth(true) + ( $wrap.width() - scrollWidth ) );\n                            frameWidth += $wrap.outerWidth() - $wrap.innerWidth();\n                        }\n\n                        if ( frameHeight === undefined ) {\n                            frameHeight = Math.ceil( $body.outerHeight(true) );\n                            frameHeight += $wrap.outerHeight() - $wrap.innerHeight();\n                        }\n\n                        // Resize wrapper to fit iframe content\n                        if ( frameWidth ) {\n                            $wrap.width( frameWidth );\n                        }\n\n                        if ( frameHeight ) {\n                            $wrap.height( frameHeight );\n                        }\n                    }\n\n                    $wrap.removeClass( 'fancybox-is-hidden' );\n\n                });\n\n            } else {\n\n                this.afterLoad( slide );\n\n            }\n\n            $iframe.attr( 'src', slide.src );\n\n            if ( slide.opts.smallBtn === true ) {\n                slide.$content.prepend( self.translate( slide, slide.opts.btnTpl.smallBtn ) );\n            }\n\n            // Remove iframe if closing or changing gallery item\n            $slide.one( 'onReset', function () {\n\n                // This helps IE not to throw errors when closing\n                try {\n\n                    $( this ).find( 'iframe' ).hide().attr( 'src', '//about:blank' );\n\n                } catch ( ignore ) {}\n\n                $( this ).empty();\n\n                slide.isLoaded = false;\n\n            });\n\n        },\n\n\n        // Wrap and append content to the slide\n        // ======================================\n\n        setContent : function ( slide, content ) {\n\n            var self = this;\n\n            if ( self.isClosing ) {\n                return;\n            }\n\n            self.hideLoading( slide );\n\n            slide.$slide.empty();\n\n            if ( isQuery( content ) && content.parent().length ) {\n\n                // If content is a jQuery object, then it will be moved to the slide.\n                // The placeholder is created so we will know where to put it back.\n                // If user is navigating gallery fast, then the content might be already inside fancyBox\n                // =====================================================================================\n\n                // Make sure content is not already moved to fancyBox\n                content.parent( '.fancybox-slide--inline' ).trigger( 'onReset' );\n\n                // Create temporary element marking original place of the content\n                slide.$placeholder = $( '<div></div>' ).hide().insertAfter( content );\n\n                // Make sure content is visible\n                content.css('display', 'inline-block');\n\n            } else if ( !slide.hasError ) {\n\n                // If content is just a plain text, try to convert it to html\n                if ( $.type( content ) === 'string' ) {\n                    content = $('<div>').append( $.trim( content ) ).contents();\n\n                    // If we have text node, then add wrapping element to make vertical alignment work\n                    if ( content[0].nodeType === 3 ) {\n                        content = $('<div>').html( content );\n                    }\n                }\n\n                // If \"filter\" option is provided, then filter content\n                if ( slide.opts.filter ) {\n                    content = $('<div>').html( content ).find( slide.opts.filter );\n                }\n\n            }\n\n            slide.$slide.one('onReset', function () {\n\n                // Pause all html5 video/audio\n                $( this ).find( 'video,audio' ).trigger( 'pause' );\n\n                // Put content back\n                if ( slide.$placeholder ) {\n                    slide.$placeholder.after( content.hide() ).remove();\n\n                    slide.$placeholder = null;\n                }\n\n                // Remove custom close button\n                if ( slide.$smallBtn ) {\n                    slide.$smallBtn.remove();\n\n                    slide.$smallBtn = null;\n                }\n\n                // Remove content and mark slide as not loaded\n                if ( !slide.hasError ) {\n                    $(this).empty();\n\n                    slide.isLoaded = false;\n                }\n\n            });\n\n            slide.$content = $( content ).appendTo( slide.$slide );\n\n            this.afterLoad( slide );\n        },\n\n        // Display error message\n        // =====================\n\n        setError : function ( slide ) {\n\n            slide.hasError = true;\n\n            slide.$slide.removeClass( 'fancybox-slide--' + slide.type );\n\n            this.setContent( slide, this.translate( slide, slide.opts.errorTpl ) );\n\n        },\n\n\n        // Show loading icon inside the slide\n        // ==================================\n\n        showLoading : function( slide ) {\n\n            var self = this;\n\n            slide = slide || self.current;\n\n            if ( slide && !slide.$spinner ) {\n                slide.$spinner = $( self.opts.spinnerTpl ).appendTo( slide.$slide );\n            }\n\n        },\n\n        // Remove loading icon from the slide\n        // ==================================\n\n        hideLoading : function( slide ) {\n\n            var self = this;\n\n            slide = slide || self.current;\n\n            if ( slide && slide.$spinner ) {\n                slide.$spinner.remove();\n\n                delete slide.$spinner;\n            }\n\n        },\n\n\n        // Adjustments after slide content has been loaded\n        // ===============================================\n\n        afterLoad : function( slide ) {\n\n            var self = this;\n\n            if ( self.isClosing ) {\n                return;\n            }\n\n            slide.isLoading = false;\n            slide.isLoaded  = true;\n\n            self.trigger( 'afterLoad', slide );\n\n            self.hideLoading( slide );\n\n            if ( slide.opts.smallBtn && !slide.$smallBtn ) {\n                slide.$smallBtn = $( self.translate( slide, slide.opts.btnTpl.smallBtn ) ).appendTo( slide.$content.filter('div,form').first() );\n            }\n\n            if ( slide.opts.protect && slide.$content && !slide.hasError ) {\n\n                // Disable right click\n                slide.$content.on( 'contextmenu.fb', function( e ) {\n                     if ( e.button == 2 ) {\n                         e.preventDefault();\n                     }\n\n                    return true;\n                });\n\n                // Add fake element on top of the image\n                // This makes a bit harder for user to select image\n                if ( slide.type === 'image' ) {\n                    $( '<div class=\"fancybox-spaceball\"></div>' ).appendTo( slide.$content );\n                }\n\n            }\n\n            self.revealContent( slide );\n\n        },\n\n\n        // Make content visible\n        // This method is called right after content has been loaded or\n        // user navigates gallery and transition should start\n        // ============================================================\n\n        revealContent : function( slide ) {\n\n            var self   = this;\n            var $slide = slide.$slide;\n\n            var effect, effectClassName, duration, opacity, end, start = false;\n\n            effect   = slide.opts[ self.firstRun ? 'animationEffect'   : 'transitionEffect' ];\n            duration = slide.opts[ self.firstRun ? 'animationDuration' : 'transitionDuration' ];\n\n            duration = parseInt( slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10 );\n\n            if ( slide.isMoved || slide.pos !== self.currPos || !duration ) {\n                effect = false;\n            }\n\n            // Check if can zoom\n            if ( effect === 'zoom' && !( slide.pos === self.currPos && duration && slide.type === 'image' && !slide.hasError && ( start = self.getThumbPos( slide ) ) ) ) {\n                effect = 'fade';\n            }\n\n            // Zoom animation\n            // ==============\n\n            if ( effect === 'zoom' ) {\n                end = self.getFitPos( slide );\n\n                end.scaleX = end.width  / start.width;\n                end.scaleY = end.height / start.height;\n\n                delete end.width;\n                delete end.height;\n\n                // Check if we need to animate opacity\n                opacity = slide.opts.zoomOpacity;\n\n                if ( opacity == 'auto' ) {\n                    opacity = Math.abs( slide.width / slide.height - start.width / start.height ) > 0.1;\n                }\n\n                if ( opacity ) {\n                    start.opacity = 0.1;\n                    end.opacity   = 1;\n                }\n\n                // Draw image at start position\n                $.fancybox.setTranslate( slide.$content.removeClass( 'fancybox-is-hidden' ), start );\n\n                forceRedraw( slide.$content );\n\n                // Start animation\n                $.fancybox.animate( slide.$content, end, duration, function() {\n                    self.complete();\n                });\n\n                return;\n            }\n\n            self.updateSlide( slide );\n\n\n            // Simply show content\n            // ===================\n\n            if ( !effect ) {\n                forceRedraw( $slide );\n\n                slide.$content.removeClass( 'fancybox-is-hidden' );\n\n                if ( slide.pos === self.currPos ) {\n                    self.complete();\n                }\n\n                return;\n            }\n\n            $.fancybox.stop( $slide );\n\n            effectClassName = 'fancybox-animated fancybox-slide--' + ( slide.pos >= self.prevPos ? 'next' : 'previous' ) + ' fancybox-fx-' + effect;\n\n            $slide.removeAttr( 'style' ).removeClass( 'fancybox-slide--current fancybox-slide--next fancybox-slide--previous' ).addClass( effectClassName );\n\n            slide.$content.removeClass( 'fancybox-is-hidden' );\n\n            //Force reflow for CSS3 transitions\n            forceRedraw( $slide );\n\n            $.fancybox.animate( $slide, 'fancybox-slide--current', duration, function(e) {\n                $slide.removeClass( effectClassName ).removeAttr( 'style' );\n\n                if ( slide.pos === self.currPos ) {\n                    self.complete();\n                }\n\n            }, true);\n\n        },\n\n\n        // Check if we can and have to zoom from thumbnail\n        //================================================\n\n        getThumbPos : function( slide ) {\n\n            var self = this;\n            var rez  = false;\n\n            // Check if element is inside the viewport by at least 1 pixel\n            var isElementVisible = function( $el ) {\n                var element = $el[0];\n\n                var elementRect = element.getBoundingClientRect();\n                var parentRects = [];\n\n                var visibleInAllParents;\n\n                while ( element.parentElement !== null ) {\n                    if ( $(element.parentElement).css('overflow') === 'hidden'  || $(element.parentElement).css('overflow') === 'auto' ) {\n                        parentRects.push(element.parentElement.getBoundingClientRect());\n                    }\n\n                    element = element.parentElement;\n                }\n\n                visibleInAllParents = parentRects.every(function(parentRect){\n                    var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\n                    var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\n\n                    return visiblePixelX > 0 && visiblePixelY > 0;\n                });\n\n                return visibleInAllParents &&\n                    elementRect.bottom > 0 && elementRect.right > 0 &&\n                    elementRect.left < $(window).width() && elementRect.top < $(window).height();\n            };\n\n            var $thumb   = slide.opts.$thumb;\n            var thumbPos = $thumb ? $thumb.offset() : 0;\n            var slidePos;\n\n            if ( thumbPos && $thumb[0].ownerDocument === document && isElementVisible( $thumb ) ) {\n                slidePos = self.$refs.stage.offset();\n\n                rez = {\n                    top    : thumbPos.top  - slidePos.top  + parseFloat( $thumb.css( \"border-top-width\" ) || 0 ),\n                    left   : thumbPos.left - slidePos.left + parseFloat( $thumb.css( \"border-left-width\" ) || 0 ),\n                    width  : $thumb.width(),\n                    height : $thumb.height(),\n                    scaleX : 1,\n                    scaleY : 1\n                };\n            }\n\n            return rez;\n        },\n\n\n        // Final adjustments after current gallery item is moved to position\n        // and it`s content is loaded\n        // ==================================================================\n\n        complete : function() {\n            var self = this,\n                current = self.current,\n                slides  = {},\n                promise;\n\n            if ( current.isMoved || !current.isLoaded || current.isComplete ) {\n                return;\n            }\n\n            current.isComplete = true;\n\n            current.$slide.siblings().trigger( 'onReset' );\n\n            self.preload( 'inline' );\n\n            // Trigger any CSS3 transiton inside the slide\n            forceRedraw( current.$slide );\n\n            current.$slide.addClass( 'fancybox-slide--complete' );\n\n            // Remove unnecessary slides\n            $.each( self.slides, function( key, slide ) {\n                if ( slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1 ) {\n                    slides[ slide.pos ] = slide;\n\n                } else if ( slide ) {\n                    $.fancybox.stop( slide.$slide );\n\n                    slide.$slide.off().remove();\n                }\n            });\n\n            self.slides = slides;\n\n            self.updateCursor();\n\n            self.trigger( 'afterShow' );\n\n            // Play first html5 video/audio\n            current.$slide.find( 'video,audio' ).first().trigger( 'play' );\n\n            // Try to focus on the first focusable element\n            if ( $( document.activeElement ).is( '[disabled]' ) || ( current.opts.autoFocus && !( current.type == 'image' || current.type === 'iframe' ) ) ) {\n                self.focus();\n            }\n\n        },\n\n\n        // Preload next and previous slides\n        // ================================\n\n        preload : function( type ) {\n            var self = this,\n                next = self.slides[ self.currPos + 1 ],\n                prev = self.slides[ self.currPos - 1 ];\n\n            if ( next && next.type === type ) {\n                self.loadSlide( next );\n            }\n\n            if ( prev && prev.type === type ) {\n                self.loadSlide( prev );\n            }\n        },\n\n\n        // Try to find and focus on the first focusable element\n        // ====================================================\n\n        focus : function() {\n            var current = this.current;\n            var $el;\n\n            if ( this.isClosing ) {\n                return;\n            }\n\n            if ( current && current.isComplete ) {\n\n                // Look for first input with autofocus attribute\n                $el = current.$slide.find('input[autofocus]:enabled:visible:first');\n\n                if ( !$el.length ) {\n                    $el = current.$slide.find('button,:input,[tabindex],a').filter(':enabled:visible:first');\n                }\n            }\n\n            $el = $el && $el.length ? $el : this.$refs.container;\n\n            $el.focus();\n        },\n\n\n        // Activates current instance - brings container to the front and enables keyboard,\n        // notifies other instances about deactivating\n        // =================================================================================\n\n        activate : function () {\n            var self = this;\n\n            // Deactivate all instances\n            $( '.fancybox-container' ).each(function () {\n                var instance = $(this).data( 'FancyBox' );\n\n                // Skip self and closing instances\n                if (instance && instance.id !== self.id && !instance.isClosing) {\n                    instance.trigger( 'onDeactivate' );\n\n                    instance.removeEvents();\n\n                    instance.isVisible = false;\n                }\n\n            });\n\n            self.isVisible = true;\n\n            if ( self.current || self.isIdle ) {\n                self.update();\n\n                self.updateControls();\n            }\n\n            self.trigger( 'onActivate' );\n\n            self.addEvents();\n        },\n\n\n        // Start closing procedure\n        // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n        // =================================================================================\n\n        close : function( e, d ) {\n\n            var self    = this;\n            var current = self.current;\n\n            var effect, duration;\n            var $what, opacity, start, end;\n\n            var done = function() {\n                self.cleanUp( e );\n            };\n\n            if ( self.isClosing ) {\n                return false;\n            }\n\n            self.isClosing = true;\n\n            // If beforeClose callback prevents closing, make sure content is centered\n            if ( self.trigger( 'beforeClose', e ) === false ) {\n                self.isClosing = false;\n\n                requestAFrame(function() {\n                    self.update();\n                });\n\n                return false;\n            }\n\n            // Remove all events\n            // If there are multiple instances, they will be set again by \"activate\" method\n            self.removeEvents();\n\n            if ( current.timouts ) {\n                clearTimeout( current.timouts );\n            }\n\n            $what    = current.$content;\n            effect   = current.opts.animationEffect;\n            duration = $.isNumeric( d ) ? d : ( effect ? current.opts.animationDuration : 0 );\n\n            // Remove other slides\n            current.$slide.off( transitionEnd ).removeClass( 'fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated' );\n\n            current.$slide.siblings().trigger( 'onReset' ).remove();\n\n            // Trigger animations\n            if ( duration ) {\n                self.$refs.container.removeClass( 'fancybox-is-open' ).addClass( 'fancybox-is-closing' );\n            }\n\n            // Clean up\n            self.hideLoading( current );\n\n            self.hideControls();\n\n            self.updateCursor();\n\n            // Check if possible to zoom-out\n            if ( effect === 'zoom' && !( e !== true && $what && duration && current.type === 'image' && !current.hasError && ( end = self.getThumbPos( current ) ) ) ) {\n                effect = 'fade';\n            }\n\n            if ( effect === 'zoom' ) {\n                $.fancybox.stop( $what );\n\n                start = $.fancybox.getTranslate( $what );\n\n                start.width  = start.width  * start.scaleX;\n                start.height = start.height * start.scaleY;\n\n                // Check if we need to animate opacity\n                opacity = current.opts.zoomOpacity;\n\n                if ( opacity == 'auto' ) {\n                    opacity = Math.abs( current.width / current.height - end.width / end.height ) > 0.1;\n                }\n\n                if ( opacity ) {\n                    end.opacity = 0;\n                }\n\n                start.scaleX = start.width  / end.width;\n                start.scaleY = start.height / end.height;\n\n                start.width  = end.width;\n                start.height = end.height;\n\n                $.fancybox.setTranslate( current.$content, start );\n\n                forceRedraw( current.$content );\n\n                $.fancybox.animate( current.$content, end, duration, done );\n\n                return true;\n            }\n\n            if ( effect && duration ) {\n\n                // If skip animation\n                if ( e === true ) {\n                    setTimeout( done, duration );\n\n                } else {\n                    $.fancybox.animate( current.$slide.removeClass( 'fancybox-slide--current' ), 'fancybox-animated fancybox-slide--previous fancybox-fx-' + effect, duration, done );\n                }\n\n            } else {\n                done();\n            }\n\n            return true;\n        },\n\n\n        // Final adjustments after removing the instance\n        // =============================================\n\n        cleanUp : function( e ) {\n            var self  = this,\n                $body = $( 'body' ),\n                instance,\n                offset;\n\n            self.current.$slide.trigger( 'onReset' );\n\n            self.$refs.container.empty().remove();\n\n            self.trigger( 'afterClose', e );\n\n            // Place back focus\n            if ( self.$lastFocus && !!self.current.opts.backFocus ) {\n                self.$lastFocus.focus();\n            }\n\n            self.current = null;\n\n            // Check if there are other instances\n            instance = $.fancybox.getInstance();\n\n            if ( instance ) {\n                instance.activate();\n\n            } else {\n\n                $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\n\n                $body.removeClass( 'fancybox-active compensate-for-scrollbar' );\n\n                if ( $body.hasClass( 'fancybox-iosfix' ) ) {\n                    offset = parseInt(document.body.style.top, 10);\n\n                    $body.removeClass( 'fancybox-iosfix' ).css( 'top', '' ).scrollTop( offset * -1 );\n                }\n\n                $( '#fancybox-style-noscroll' ).remove();\n\n            }\n\n        },\n\n\n        // Call callback and trigger an event\n        // ==================================\n\n        trigger : function( name, slide ) {\n            var args  = Array.prototype.slice.call(arguments, 1),\n                self  = this,\n                obj   = slide && slide.opts ? slide : self.current,\n                rez;\n\n            if ( obj ) {\n                args.unshift( obj );\n\n            } else {\n                obj = self;\n            }\n\n            args.unshift( self );\n\n            if ( $.isFunction( obj.opts[ name ] ) ) {\n                rez = obj.opts[ name ].apply( obj, args );\n            }\n\n            if ( rez === false ) {\n                return rez;\n            }\n\n            if ( name === 'afterClose' || !self.$refs ) {\n                $D.trigger( name + '.fb', args );\n\n            } else {\n                self.$refs.container.trigger( name + '.fb', args );\n            }\n\n        },\n\n\n        // Update infobar values, navigation button states and reveal caption\n        // ==================================================================\n\n        updateControls : function ( force ) {\n\n            var self = this;\n\n            var current  = self.current,\n                index    = current.index,\n                caption  = current.opts.caption,\n                $container = self.$refs.container,\n                $caption   = self.$refs.caption;\n\n            // Recalculate content dimensions\n            current.$slide.trigger( 'refresh' );\n\n            self.$caption = caption && caption.length ? $caption.html( caption ) : null;\n\n            if ( !self.isHiddenControls && !self.isIdle ) {\n                self.showControls();\n            }\n\n            // Update info and navigation elements\n            $container.find('[data-fancybox-count]').html( self.group.length );\n            $container.find('[data-fancybox-index]').html( index + 1 );\n\n            $container.find('[data-fancybox-prev]').prop( 'disabled', ( !current.opts.loop && index <= 0 ) );\n            $container.find('[data-fancybox-next]').prop( 'disabled', ( !current.opts.loop && index >= self.group.length - 1 ) );\n\n            if ( current.type === 'image' ) {\n\n                // Update download button source\n                $container.find('[data-fancybox-download]').attr( 'href', current.opts.image.src || current.src ).show();\n\n            } else {\n                $container.find('[data-fancybox-download],[data-fancybox-zoom]').hide();\n            }\n        },\n\n        // Hide toolbar and caption\n        // ========================\n\n        hideControls : function () {\n\n            this.isHiddenControls = true;\n\n            this.$refs.container.removeClass( 'fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav' );\n\n        },\n\n        showControls : function() {\n            var self = this;\n            var opts = self.current ? self.current.opts : self.opts;\n            var $container = self.$refs.container;\n\n            self.isHiddenControls   = false;\n            self.idleSecondsCounter = 0;\n\n            $container\n                .toggleClass( 'fancybox-show-toolbar', !!( opts.toolbar && opts.buttons ) )\n                .toggleClass( 'fancybox-show-infobar', !!( opts.infobar && self.group.length > 1 ) )\n                .toggleClass( 'fancybox-show-nav',     !!( opts.arrows && self.group.length > 1 ) )\n                .toggleClass( 'fancybox-is-modal',     !!opts.modal );\n\n            if ( self.$caption ) {\n                $container.addClass( 'fancybox-show-caption ');\n\n            } else {\n               $container.removeClass( 'fancybox-show-caption' );\n           }\n\n       },\n\n\n       // Toggle toolbar and caption\n       // ==========================\n\n       toggleControls : function() {\n           if ( this.isHiddenControls ) {\n               this.showControls();\n\n           } else {\n               this.hideControls();\n           }\n\n       },\n\n\n    });\n\n\n    $.fancybox = {\n\n        version  : \"3.2.10\",\n        defaults : defaults,\n\n\n        // Get current instance and execute a command.\n        //\n        // Examples of usage:\n        //\n        //   $instance = $.fancybox.getInstance();\n        //   $.fancybox.getInstance().jumpTo( 1 );\n        //   $.fancybox.getInstance( 'jumpTo', 1 );\n        //   $.fancybox.getInstance( function() {\n        //       console.info( this.currIndex );\n        //   });\n        // ======================================================\n\n        getInstance : function ( command ) {\n            var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data( 'FancyBox' );\n            var args     = Array.prototype.slice.call(arguments, 1);\n\n            if ( instance instanceof FancyBox ) {\n\n                if ( $.type( command ) === 'string' ) {\n                    instance[ command ].apply( instance, args );\n\n                } else if ( $.type( command ) === 'function' ) {\n                    command.apply( instance, args );\n                }\n\n                return instance;\n            }\n\n            return false;\n\n        },\n\n\n        // Create new instance\n        // ===================\n\n        open : function ( items, opts, index ) {\n            return new FancyBox( items, opts, index );\n        },\n\n\n        // Close current or all instances\n        // ==============================\n\n        close : function ( all ) {\n            var instance = this.getInstance();\n\n            if ( instance ) {\n                instance.close();\n\n                // Try to find and close next instance\n\n                if ( all === true ) {\n                    this.close();\n                }\n            }\n\n        },\n\n        // Close instances and unbind all events\n        // ==============================\n\n        destroy : function() {\n\n            this.close( true );\n\n            $D.off( 'click.fb-start' );\n\n        },\n\n\n        // Try to detect mobile devices\n        // ============================\n\n        isMobile : document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n\n        // Detect if 'translate3d' support is available\n        // ============================================\n\n        use3d : (function() {\n            var div = document.createElement('div');\n\n            return window.getComputedStyle && window.getComputedStyle( div ).getPropertyValue('transform') && !(document.documentMode && document.documentMode < 11);\n        }()),\n\n        // Helper function to get current visual state of an element\n        // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n        // =====================================================================\n\n        getTranslate : function( $el ) {\n            var matrix;\n\n            if ( !$el || !$el.length ) {\n                return false;\n            }\n\n            matrix  = $el.eq( 0 ).css('transform');\n\n            if ( matrix && matrix.indexOf( 'matrix' ) !== -1 ) {\n                matrix = matrix.split('(')[1];\n                matrix = matrix.split(')')[0];\n                matrix = matrix.split(',');\n            } else {\n                matrix = [];\n            }\n\n            if ( matrix.length ) {\n\n                // If IE\n                if ( matrix.length > 10 ) {\n                    matrix = [ matrix[13], matrix[12], matrix[0], matrix[5] ];\n\n                } else {\n                    matrix = [ matrix[5], matrix[4], matrix[0], matrix[3]];\n                }\n\n                matrix = matrix.map(parseFloat);\n\n            } else {\n                matrix = [ 0, 0, 1, 1 ];\n\n                var transRegex = /\\.*translate\\((.*)px,(.*)px\\)/i;\n                var transRez = transRegex.exec( $el.eq( 0 ).attr('style') );\n\n                if ( transRez ) {\n                    matrix[ 0 ] = parseFloat( transRez[2] );\n                    matrix[ 1 ] = parseFloat( transRez[1] );\n                }\n            }\n\n            return {\n                top     : matrix[ 0 ],\n                left    : matrix[ 1 ],\n                scaleX  : matrix[ 2 ],\n                scaleY  : matrix[ 3 ],\n                opacity : parseFloat( $el.css('opacity') ),\n                width   : $el.width(),\n                height  : $el.height()\n            };\n\n        },\n\n\n        // Shortcut for setting \"translate3d\" properties for element\n        // Can set be used to set opacity, too\n        // ========================================================\n\n        setTranslate : function( $el, props ) {\n            var str  = '';\n            var css  = {};\n\n            if ( !$el || !props ) {\n                return;\n            }\n\n            if ( props.left !== undefined || props.top !== undefined ) {\n                str = ( props.left === undefined ? $el.position().left : props.left )  + 'px, ' + ( props.top === undefined ? $el.position().top : props.top ) + 'px';\n\n                if ( this.use3d ) {\n                    str = 'translate3d(' + str + ', 0px)';\n\n                } else {\n                    str = 'translate(' + str + ')';\n                }\n            }\n\n            if ( props.scaleX !== undefined && props.scaleY !== undefined ) {\n                str = (str.length ? str + ' ' : '') + 'scale(' + props.scaleX + ', ' + props.scaleY + ')';\n            }\n\n            if ( str.length ) {\n                css.transform = str;\n            }\n\n            if ( props.opacity !== undefined ) {\n                css.opacity = props.opacity;\n            }\n\n            if ( props.width !== undefined ) {\n                css.width = props.width;\n            }\n\n            if ( props.height !== undefined ) {\n                css.height = props.height;\n            }\n\n            return $el.css( css );\n        },\n\n\n        // Simple CSS transition handler\n        // =============================\n\n        animate : function ( $el, to, duration, callback, leaveAnimationName ) {\n            if ( $.isFunction( duration ) ) {\n                callback = duration;\n                duration = null;\n            }\n\n            if ( !$.isPlainObject( to ) ) {\n                $el.removeAttr( 'style' );\n            }\n\n            $el.on( transitionEnd, function(e) {\n\n                // Skip events from child elements and z-index change\n                if ( e && e.originalEvent && ( !$el.is( e.originalEvent.target ) || e.originalEvent.propertyName == 'z-index' ) ) {\n                    return;\n                }\n\n                $.fancybox.stop( $el );\n\n                if ( $.isPlainObject( to ) ) {\n\n                    if ( to.scaleX !== undefined && to.scaleY !== undefined ) {\n                        $el.css( 'transition-duration', '' );\n\n                        to.width  = Math.round( $el.width()  * to.scaleX );\n                        to.height = Math.round( $el.height() * to.scaleY );\n\n                        to.scaleX = 1;\n                        to.scaleY = 1;\n\n                        $.fancybox.setTranslate( $el, to );\n                    }\n\n                    if ( leaveAnimationName === false ) {\n                        $el.removeAttr( 'style' );\n                    }\n\n                } else if ( leaveAnimationName !== true ) {\n                    $el.removeClass( to );\n                }\n\n                if ( $.isFunction( callback ) ) {\n                    callback( e );\n                }\n\n            });\n\n            if ( $.isNumeric( duration ) ) {\n                $el.css( 'transition-duration', duration + 'ms' );\n            }\n\n            if ( $.isPlainObject( to ) ) {\n                $.fancybox.setTranslate( $el, to );\n\n            } else {\n                $el.addClass( to );\n            }\n\n            if ( to.scaleX && $el.hasClass( 'fancybox-image-wrap' ) ) {\n                $el.parent().addClass( 'fancybox-is-scaling' );\n            }\n\n            // Make sure that `transitionend` callback gets fired\n            $el.data(\"timer\", setTimeout(function() {\n                $el.trigger( 'transitionend' );\n            }, duration + 16));\n\n        },\n\n        stop : function( $el ) {\n            clearTimeout( $el.data(\"timer\") );\n\n            $el.off( 'transitionend' ).css( 'transition-duration', '' );\n\n            if ( $el.hasClass( 'fancybox-image-wrap' ) ) {\n                $el.parent().removeClass( 'fancybox-is-scaling' );\n            }\n        }\n\n    };\n\n\n    // Default click handler for \"fancyboxed\" links\n    // ============================================\n\n    function _run( e ) {\n        var $target\t= $( e.currentTarget ),\n            opts\t= e.data ? e.data.options : {},\n            value\t= $target.attr( 'data-fancybox' ) || '',\n            index\t= 0,\n            items   = [];\n\n        // Avoid opening multiple times\n        if ( e.isDefaultPrevented() ) {\n            return;\n        }\n\n        e.preventDefault();\n\n        // Get all related items and find index for clicked one\n        if ( value ) {\n            items = opts.selector ? $( opts.selector ) : ( e.data ? e.data.items : [] );\n            items = items.length ? items.filter( '[data-fancybox=\"' + value + '\"]' ) : $( '[data-fancybox=\"' + value + '\"]' );\n\n            index = items.index( $target );\n\n            // Sometimes current item can not be found\n            // (for example, when slider clones items)\n            if ( index < 0 ) {\n                index = 0;\n            }\n\n        } else {\n            items = [ $target ];\n        }\n\n        $.fancybox.open( items, opts, index );\n    }\n\n\n    // Create a jQuery plugin\n    // ======================\n\n    $.fn.fancybox = function (options) {\n        var selector;\n\n        options  = options || {};\n        selector = options.selector || false;\n\n        if ( selector ) {\n\n            $( 'body' ).off( 'click.fb-start', selector ).on( 'click.fb-start', selector, {\n                options : options\n            }, _run );\n\n        } else {\n\n            this.off( 'click.fb-start' ).on( 'click.fb-start', {\n                items   : this,\n                options : options\n            }, _run);\n\n        }\n\n        return this;\n    };\n\n\n    // Self initializing plugin\n    // ========================\n\n    $D.on( 'click.fb-start', '[data-fancybox]', _run );\n\n}( window, document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n;(function ($) {\n\n\t'use strict';\n\n\t// Formats matching url to final form\n\n\tvar format = function (url, rez, params) {\n\t\tif ( !url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tparams = params || '';\n\n\t\tif ( $.type(params) === \"object\" ) {\n\t\t\tparams = $.param(params, true);\n\t\t}\n\n\t\t$.each(rez, function (key, value) {\n\t\t\turl = url.replace('$' + key, value || '');\n\t\t});\n\n\t\tif (params.length) {\n\t\t\turl += (url.indexOf('?') > 0 ? '&' : '?') + params;\n\t\t}\n\n\t\treturn url;\n\t};\n\n\t// Object containing properties for each media type\n\n\tvar defaults = {\n\t\tyoutube : {\n\t\t\tmatcher : /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n\t\t\tparams  : {\n\t\t\t\tautoplay : 1,\n\t\t\t\tautohide : 1,\n\t\t\t\tfs  : 1,\n\t\t\t\trel : 0,\n\t\t\t\thd  : 1,\n\t\t\t\twmode : 'transparent',\n\t\t\t\tenablejsapi : 1,\n\t\t\t\thtml5 : 1\n\t\t\t},\n\t\t\tparamPlace : 8,\n\t\t\ttype  : 'iframe',\n\t\t\turl   : '//www.youtube.com/embed/$4',\n\t\t\tthumb : '//img.youtube.com/vi/$4/hqdefault.jpg'\n\t\t},\n\n\t\tvimeo : {\n\t\t\tmatcher : /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n\t\t\tparams  : {\n\t\t\t\tautoplay : 1,\n\t\t\t\thd : 1,\n\t\t\t\tshow_title    : 1,\n\t\t\t\tshow_byline   : 1,\n\t\t\t\tshow_portrait : 0,\n\t\t\t\tfullscreen    : 1,\n\t\t\t\tapi : 1\n\t\t\t},\n\t\t\tparamPlace : 3,\n\t\t\ttype : 'iframe',\n\t\t\turl : '//player.vimeo.com/video/$2'\n\t\t},\n\n\t\tmetacafe : {\n\t\t\tmatcher : /metacafe.com\\/watch\\/(\\d+)\\/(.*)?/,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : '//www.metacafe.com/embed/$1/?ap=1'\n\t\t},\n\n\t\tdailymotion : {\n\t\t\tmatcher : /dailymotion.com\\/video\\/(.*)\\/?(.*)/,\n\t\t\tparams : {\n\t\t\t\tadditionalInfos : 0,\n\t\t\t\tautoStart : 1\n\t\t\t},\n\t\t\ttype : 'iframe',\n\t\t\turl  : '//www.dailymotion.com/embed/video/$1'\n\t\t},\n\n\t\tvine : {\n\t\t\tmatcher : /vine.co\\/v\\/([a-zA-Z0-9\\?\\=\\-]+)/,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : '//vine.co/v/$1/embed/simple'\n\t\t},\n\n\t\tinstagram : {\n\t\t\tmatcher : /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n\t\t\ttype    : 'image',\n\t\t\turl     : '//$1/p/$2/media/?size=l'\n\t\t},\n\n\t\t// Examples:\n\t\t// http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n\t\t// https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n\t\t// https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n\t\tgmap_place : {\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : function (rez) {\n\t\t\t\treturn '//maps.google.' + rez[2] + '/?ll=' + ( rez[9] ? rez[9] + '&z=' + Math.floor(  rez[10]  ) + ( rez[12] ? rez[12].replace(/^\\//, \"&\") : '' )  : rez[12] ) + '&output=' + ( rez[12] && rez[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed' );\n\t\t\t}\n\t\t},\n\n\t\t// Examples:\n\t\t// https://www.google.com/maps/search/Empire+State+Building/\n\t\t// https://www.google.com/maps/search/?api=1&query=centurylink+field\n\t\t// https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n\t\tgmap_search : {\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : function (rez) {\n\t\t\t\treturn '//maps.google.' + rez[2] + '/maps?q=' + rez[5].replace('query=', 'q=').replace('api=1', '') + '&output=embed';\n\t\t\t}\n\t\t}\n\t};\n\n\t$(document).on('objectNeedsType.fb', function (e, instance, item) {\n\n\t\tvar url\t = item.src || '',\n\t\t\ttype = false,\n\t\t\tmedia,\n\t\t\tthumb,\n\t\t\trez,\n\t\t\tparams,\n\t\t\turlParams,\n\t\t\tparamObj,\n\t\t\tprovider;\n\n\t\tmedia = $.extend( true, {}, defaults, item.opts.media );\n\n\t\t// Look for any matching media type\n\t\t$.each(media, function ( providerName, providerOpts ) {\n\t\t\trez = url.match( providerOpts.matcher );\n\n\t\t\tif ( !rez ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttype     = providerOpts.type;\n\t\t\tparamObj = {};\n\n\t\t\tif ( providerOpts.paramPlace && rez[ providerOpts.paramPlace ] ) {\n\t\t\t\turlParams = rez[ providerOpts.paramPlace ];\n\n\t\t\t\tif ( urlParams[ 0 ] == '?' ) {\n\t\t\t\t\turlParams = urlParams.substring(1);\n\t\t\t\t}\n\n\t\t\t\turlParams = urlParams.split('&');\n\n\t\t\t\tfor ( var m = 0; m < urlParams.length; ++m ) {\n\t\t\t\t\tvar p = urlParams[ m ].split('=', 2);\n\n\t\t\t\t\tif ( p.length == 2 ) {\n\t\t\t\t\t\tparamObj[ p[0] ] = decodeURIComponent( p[1].replace(/\\+/g, \" \") );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tparams = $.extend( true, {}, providerOpts.params, item.opts[ providerName ], paramObj );\n\n\t\t\turl   = $.type( providerOpts.url ) === \"function\" ? providerOpts.url.call( this, rez, params, item ) : format( providerOpts.url, rez, params );\n\t\t\tthumb = $.type( providerOpts.thumb ) === \"function\" ? providerOpts.thumb.call( this, rez, params, item ) : format( providerOpts.thumb, rez );\n\n\t\t\tif ( providerName === 'vimeo' ) {\n\t\t\t\turl = url.replace('&%23', '#');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\n\t\t// If it is found, then change content type and update the url\n\n\t\tif ( type ) {\n\t\t\titem.src  = url;\n\t\t\titem.type = type;\n\n\t\t\tif ( !item.opts.thumb && !( item.opts.$thumb && item.opts.$thumb.length ) ) {\n\t\t\t\titem.opts.thumb = thumb;\n\t\t\t}\n\n\t\t\tif ( type === 'iframe' ) {\n\t\t\t\t$.extend(true, item.opts, {\n\t\t\t\t\tiframe : {\n\t\t\t\t\t\tpreload : false,\n\t\t\t\t\t\tattr : {\n\t\t\t\t\t\t\tscrolling : \"no\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\titem.contentProvider = provider;\n\n\t\t\t\titem.opts.slideClass += ' fancybox-slide--' + ( provider == 'gmap_place' || provider == 'gmap_search' ? 'map' : 'video' );\n\t\t\t}\n\n\t\t} else if ( url ) {\n\t\t\titem.type = item.opts.defaultType;\n\t\t}\n\n\t});\n\n}( window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n;(function (window, document, $) {\n\t'use strict';\n\n\tvar requestAFrame = (function () {\n\t\treturn window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t// if all else fails, use setTimeout\n\t\t\tfunction (callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t\t};\n\t})();\n\n\tvar cancelAFrame = (function () {\n\t\treturn window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.oCancelAnimationFrame ||\n\t\t\tfunction (id) {\n\t\t\t\twindow.clearTimeout(id);\n\t\t\t};\n\t})();\n\n\tvar pointers = function( e ) {\n\t\tvar result = [];\n\n\t\te = e.originalEvent || e || window.e;\n\t\te = e.touches && e.touches.length ? e.touches : ( e.changedTouches && e.changedTouches.length ? e.changedTouches : [ e ] );\n\n\t\tfor ( var key in e ) {\n\n\t\t\tif ( e[ key ].pageX ) {\n\t\t\t\tresult.push( { x : e[ key ].pageX, y : e[ key ].pageY } );\n\n\t\t\t} else if ( e[ key ].clientX ) {\n\t\t\t\tresult.push( { x : e[ key ].clientX, y : e[ key ].clientY } );\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tvar distance = function( point2, point1, what ) {\n\t\tif ( !point1 || !point2 ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( what === 'x' ) {\n\t\t\treturn point2.x - point1.x;\n\n\t\t} else if ( what === 'y' ) {\n\t\t\treturn point2.y - point1.y;\n\t\t}\n\n\t\treturn Math.sqrt( Math.pow( point2.x - point1.x, 2 ) + Math.pow( point2.y - point1.y, 2 ) );\n\t};\n\n\tvar isClickable = function( $el ) {\n\t\tif ( $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea') || $.isFunction( $el.get(0).onclick ) || $el.data('selectable') ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for attributes like data-fancybox-next or data-fancybox-close\n\t\tfor ( var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++ ) {\n\t\t\tif ( atts[i].nodeName.substr(0, 14) === 'data-fancybox-' ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t \treturn false;\n\t};\n\n\tvar hasScrollbars = function( el ) {\n\t\tvar overflowY = window.getComputedStyle( el )['overflow-y'];\n\t\tvar overflowX = window.getComputedStyle( el )['overflow-x'];\n\n\t\tvar vertical   = (overflowY === 'scroll' || overflowY === 'auto') && el.scrollHeight > el.clientHeight;\n\t\tvar horizontal = (overflowX === 'scroll' || overflowX === 'auto') && el.scrollWidth > el.clientWidth;\n\n\t\treturn vertical || horizontal;\n\t};\n\n\tvar isScrollable = function ( $el ) {\n\t\tvar rez = false;\n\n\t\twhile ( true ) {\n\t\t\trez\t= hasScrollbars( $el.get(0) );\n\n\t\t\tif ( rez ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t$el = $el.parent();\n\n\t\t\tif ( !$el.length || $el.hasClass( 'fancybox-stage' ) || $el.is( 'body' ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn rez;\n\t};\n\n\n\tvar Guestures = function ( instance ) {\n\t\tvar self = this;\n\n\t\tself.instance = instance;\n\n\t\tself.$bg        = instance.$refs.bg;\n\t\tself.$stage     = instance.$refs.stage;\n\t\tself.$container = instance.$refs.container;\n\n\t\tself.destroy();\n\n\t\tself.$container.on( 'touchstart.fb.touch mousedown.fb.touch', $.proxy(self, 'ontouchstart') );\n\t};\n\n\tGuestures.prototype.destroy = function() {\n\t\tthis.$container.off( '.fb.touch' );\n\t};\n\n\tGuestures.prototype.ontouchstart = function( e ) {\n\t\tvar self = this;\n\n\t\tvar $target  = $( e.target );\n\t\tvar instance = self.instance;\n\t\tvar current  = instance.current;\n\t\tvar $content = current.$content;\n\n\t\tvar isTouchDevice = ( e.type == 'touchstart' );\n\n\t\t// Do not respond to both (touch and mouse) events\n\t\tif ( isTouchDevice ) {\n\t\t\tself.$container.off( 'mousedown.fb.touch' );\n\t\t}\n\n\t\t// Ignore right click\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore taping on links, buttons, input elements\n\t\tif ( !$target.length || isClickable( $target ) || isClickable( $target.parent() ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore clicks on the scrollbar\n\t\tif ( !$target.is('img') && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore clicks while zooming or closing\n\t\tif ( !current || self.instance.isAnimating || self.instance.isClosing ) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\treturn;\n\t\t}\n\n\t\tself.realPoints = self.startPoints = pointers( e );\n\n\t\tif ( !self.startPoints ) {\n\t\t\treturn;\n\t\t}\n\n\t\te.stopPropagation();\n\n\t\tself.startEvent = e;\n\n\t\tself.canTap   = true;\n\t\tself.$target  = $target;\n\t\tself.$content = $content;\n\t\tself.opts     = current.opts.touch;\n\n\t\tself.isPanning   = false;\n\t\tself.isSwiping   = false;\n\t\tself.isZooming   = false;\n\t\tself.isScrolling = false;\n\n\t\tself.sliderStartPos  = self.sliderLastPos || { top: 0, left: 0 };\n\t\tself.contentStartPos = $.fancybox.getTranslate( self.$content );\n\t\tself.contentLastPos  = null;\n\n\t\tself.startTime = new Date().getTime();\n\t\tself.distanceX = self.distanceY = self.distance = 0;\n\n\t\tself.canvasWidth  = Math.round( current.$slide[0].clientWidth );\n\t\tself.canvasHeight = Math.round( current.$slide[0].clientHeight );\n\n\t\t$(document)\n\t\t\t.off( '.fb.touch' )\n\t\t\t.on( isTouchDevice ? 'touchend.fb.touch touchcancel.fb.touch' : 'mouseup.fb.touch mouseleave.fb.touch', $.proxy(self, \"ontouchend\"))\n\t\t\t.on( isTouchDevice ? 'touchmove.fb.touch' : 'mousemove.fb.touch', $.proxy(self, \"ontouchmove\"));\n\n\t\tif ( $.fancybox.isMobile ) {\n\t\t\tdocument.addEventListener('scroll', self.onscroll, true);\n\t\t}\n\n\t\tif ( !(self.opts || instance.canPan() ) || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {\n\n\t\t\t// Prevent image ghosting while dragging\n\t\t\tif ( $target.is('img') ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !( $.fancybox.isMobile && ( isScrollable( $target ) || isScrollable( $target.parent() ) ) ) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tif ( self.startPoints.length === 1 ) {\n\t\t\tif ( current.type === 'image' && ( self.contentStartPos.width > self.canvasWidth + 1 || self.contentStartPos.height > self.canvasHeight + 1 ) ) {\n\t\t\t\t$.fancybox.stop( self.$content );\n\n\t\t\t\tself.$content.css( 'transition-duration', '' );\n\n\t\t\t\tself.isPanning = true;\n\n\t\t\t} else {\n\t\t\t\tself.isSwiping = true;\n\t\t\t}\n\n\t\t\tself.$container.addClass( 'fancybox-controls--isGrabbing' );\n\t\t}\n\n\t\tif ( self.startPoints.length === 2 && !instance.isAnimating && !current.hasError && current.type === 'image' && ( current.isLoaded || current.$ghost ) ) {\n\t\t\tself.canTap    = false;\n\t\t\tself.isSwiping = false;\n\t\t\tself.isPanning = false;\n\n\t\t\tself.isZooming = true;\n\n\t\t\t$.fancybox.stop( self.$content );\n\n\t\t\tself.$content.css( 'transition-duration', '' );\n\n\t\t\tself.centerPointStartX = ( ( self.startPoints[0].x + self.startPoints[1].x ) * 0.5 ) - $(window).scrollLeft();\n\t\t\tself.centerPointStartY = ( ( self.startPoints[0].y + self.startPoints[1].y ) * 0.5 ) - $(window).scrollTop();\n\n\t\t\tself.percentageOfImageAtPinchPointX = ( self.centerPointStartX - self.contentStartPos.left ) / self.contentStartPos.width;\n\t\t\tself.percentageOfImageAtPinchPointY = ( self.centerPointStartY - self.contentStartPos.top  ) / self.contentStartPos.height;\n\n\t\t\tself.startDistanceBetweenFingers = distance( self.startPoints[0], self.startPoints[1] );\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onscroll = function(e) {\n\t\tself.isScrolling = true;\n\t};\n\n\tGuestures.prototype.ontouchmove = function( e ) {\n\t\tvar self = this,\n\t\t\t$target = $(e.target);\n\n\t\tif ( self.isScrolling || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {\n\t\t\tself.canTap = false;\n\n\t\t\treturn;\n\t\t}\n\n\t\tself.newPoints = pointers( e );\n\n\t\tif ( !( self.opts || self.instance.canPan() ) || !self.newPoints || !self.newPoints.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !(self.isSwiping && self.isSwiping === true) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tself.distanceX = distance( self.newPoints[0], self.startPoints[0], 'x' );\n\t\tself.distanceY = distance( self.newPoints[0], self.startPoints[0], 'y' );\n\n\t\tself.distance = distance( self.newPoints[0], self.startPoints[0] )\n\n\t\t// Skip false ontouchmove events (Chrome)\n\t\tif ( self.distance > 0 ) {\n\t\t\tif ( self.isSwiping ) {\n\t\t\t\tself.onSwipe(e);\n\n\t\t\t} else if ( self.isPanning ) {\n\t\t\t\tself.onPan();\n\n\t\t\t} else if ( self.isZooming ) {\n\t\t\t\tself.onZoom();\n\t\t\t}\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onSwipe = function(e) {\n\t\tvar self = this,\n\t\t\tswiping = self.isSwiping,\n\t\t\tleft    = self.sliderStartPos.left || 0,\n\t\t\tangle;\n\n\t\t// If direction is not yet determined\n\t\tif ( swiping === true ) {\n\n\t\t\t// We need at least 10px distance to correctly calculate an angle\n\t\t\tif ( Math.abs( self.distance ) > 10 ) {\n\t\t\t\tself.canTap = false;\n\n\t\t\t\tif ( self.instance.group.length < 2 && self.opts.vertical ) {\n\t\t\t\t\tself.isSwiping = 'y';\n\n\t\t\t\t} else if ( self.instance.isDragging || self.opts.vertical === false || ( self.opts.vertical === 'auto' && $( window ).width() > 800 ) ) {\n\t\t\t\t\tself.isSwiping = 'x';\n\n\t\t\t\t} else {\n\t\t\t\t\tangle = Math.abs( Math.atan2( self.distanceY, self.distanceX ) * 180 / Math.PI );\n\n\t\t\t\t\tself.isSwiping = ( angle > 45 && angle < 135 ) ? 'y' : 'x';\n\t\t\t\t}\n\n\t\t\t\tself.canTap = false;\n\n\t\t\t\t if ( self.isSwiping === 'y' && $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) {\n\t\t\t\t\t self.isScrolling = true;\n\n\t\t\t\t\t return;\n\t\t\t\t }\n\n\t\t\t\tself.instance.isDragging = self.isSwiping;\n\n\t\t\t\t// Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n\t\t\t\tself.startPoints = self.newPoints;\n\n\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\n\t\t\t\t\t$.fancybox.stop( slide.$slide );\n\n\t\t\t\t\tslide.$slide.css( 'transition-duration', '' );\n\n\t\t\t\t\tslide.inTransition = false;\n\n\t\t\t\t\tif ( slide.pos === self.instance.current.pos ) {\n\t\t\t\t\t\tself.sliderStartPos.left = $.fancybox.getTranslate( slide.$slide ).left;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Stop slideshow\n\t\t\t\tif ( self.instance.SlideShow && self.instance.SlideShow.isActive ) {\n\t\t\t\t\tself.instance.SlideShow.stop();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Sticky edges\n\t\tif ( swiping == 'x' ) {\n\t\t\tif ( self.distanceX > 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === 0 && !self.instance.current.opts.loop ) ) ) {\n\t\t\t\tleft = left + Math.pow( self.distanceX, 0.8 );\n\n\t\t\t} else if ( self.distanceX < 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop ) ) ) {\n\t\t\t\tleft = left - Math.pow( -self.distanceX, 0.8 );\n\n\t\t\t} else {\n\t\t\t\tleft = left + self.distanceX;\n\t\t\t}\n\t\t}\n\n\t\tself.sliderLastPos = {\n\t\t\ttop  : swiping == 'x' ? 0 : self.sliderStartPos.top + self.distanceY,\n\t\t\tleft : left\n\t\t};\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\n\t\t\tif ( self.sliderLastPos ) {\n\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\n\t\t\t\t\tvar pos = slide.pos - self.instance.currPos;\n\n\t\t\t\t\t$.fancybox.setTranslate( slide.$slide, {\n\t\t\t\t\t\ttop  : self.sliderLastPos.top,\n\t\t\t\t\t\tleft : self.sliderLastPos.left + ( pos * self.canvasWidth ) + ( pos * slide.opts.gutter )\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tself.$container.addClass( 'fancybox-is-sliding' );\n\t\t\t}\n\n\t\t});\n\n\t};\n\n\tGuestures.prototype.onPan = function() {\n\t\tvar self = this;\n\n\t\t// Sometimes, when tapping causally, image can move a bit and that breaks double tapping\n\t\tif ( distance( self.newPoints[0], self.realPoints[0] ) < ($.fancybox.isMobile ? 10 : 5) ) {\n\t\t\tself.startPoints = self.newPoints;\n\t\t\treturn;\n\t\t}\n\n\t\tself.canTap = false;\n\n\t\tself.contentLastPos = self.limitMovement();\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\n\t\t});\n\t};\n\n\t// Make panning sticky to the edges\n\tGuestures.prototype.limitMovement = function() {\n\t\tvar self = this;\n\n\t\tvar canvasWidth  = self.canvasWidth;\n\t\tvar canvasHeight = self.canvasHeight;\n\n\t\tvar distanceX = self.distanceX;\n\t\tvar distanceY = self.distanceY;\n\n\t\tvar contentStartPos = self.contentStartPos;\n\n\t\tvar currentOffsetX = contentStartPos.left;\n\t\tvar currentOffsetY = contentStartPos.top;\n\n\t\tvar currentWidth  = contentStartPos.width;\n\t\tvar currentHeight = contentStartPos.height;\n\n\t\tvar minTranslateX, minTranslateY,\n\t\t\tmaxTranslateX, maxTranslateY,\n\t\t\tnewOffsetX, newOffsetY;\n\n\t\tif ( currentWidth > canvasWidth ) {\n\t\t\tnewOffsetX = currentOffsetX + distanceX;\n\n\t\t} else {\n\t\t\tnewOffsetX = currentOffsetX;\n\t\t}\n\n\t\tnewOffsetY = currentOffsetY + distanceY;\n\n\t\t// Slow down proportionally to traveled distance\n\t\tminTranslateX = Math.max( 0, canvasWidth  * 0.5 - currentWidth  * 0.5 );\n\t\tminTranslateY = Math.max( 0, canvasHeight * 0.5 - currentHeight * 0.5 );\n\n\t\tmaxTranslateX = Math.min( canvasWidth  - currentWidth,  canvasWidth  * 0.5 - currentWidth  * 0.5 );\n\t\tmaxTranslateY = Math.min( canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5 );\n\n\t\tif ( currentWidth > canvasWidth ) {\n\n\t\t\t//   ->\n\t\t\tif ( distanceX > 0 && newOffsetX > minTranslateX ) {\n\t\t\t\tnewOffsetX = minTranslateX - 1 + Math.pow( -minTranslateX + currentOffsetX + distanceX, 0.8 ) || 0;\n\t\t\t}\n\n\t\t\t//    <-\n\t\t\tif ( distanceX < 0 && newOffsetX < maxTranslateX ) {\n\t\t\t\tnewOffsetX = maxTranslateX + 1 - Math.pow( maxTranslateX - currentOffsetX - distanceX, 0.8 ) || 0;\n\t\t\t}\n\n\t\t}\n\n\t\tif ( currentHeight > canvasHeight ) {\n\n\t\t\t//   \\/\n\t\t\tif ( distanceY > 0 && newOffsetY > minTranslateY ) {\n\t\t\t\tnewOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8 ) || 0;\n\t\t\t}\n\n\t\t\t//   /\\\n\t\t\tif ( distanceY < 0 && newOffsetY < maxTranslateY ) {\n\t\t\t\tnewOffsetY = maxTranslateY + 1 - Math.pow ( maxTranslateY - currentOffsetY - distanceY, 0.8 ) || 0;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop    : newOffsetY,\n\t\t\tleft   : newOffsetX,\n\t\t\tscaleX : contentStartPos.scaleX,\n\t\t\tscaleY : contentStartPos.scaleY\n\t\t};\n\n\t};\n\n\tGuestures.prototype.limitPosition = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\n\t\tvar self = this;\n\n\t\tvar canvasWidth  = self.canvasWidth;\n\t\tvar canvasHeight = self.canvasHeight;\n\n\t\tif ( newWidth > canvasWidth ) {\n\t\t\tnewOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n\t\t\tnewOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n\n\t\t} else {\n\n\t\t\t// Center horizontally\n\t\t\tnewOffsetX = Math.max( 0, canvasWidth / 2 - newWidth / 2 );\n\n\t\t}\n\n\t\tif ( newHeight > canvasHeight ) {\n\t\t\tnewOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n\t\t\tnewOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n\n\t\t} else {\n\n\t\t\t// Center vertically\n\t\t\tnewOffsetY = Math.max( 0, canvasHeight / 2 - newHeight / 2 );\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop  : newOffsetY,\n\t\t\tleft : newOffsetX\n\t\t};\n\n\t};\n\n\tGuestures.prototype.onZoom = function() {\n\t\tvar self = this;\n\n\t\t// Calculate current distance between points to get pinch ratio and new width and height\n\n\t\tvar currentWidth  = self.contentStartPos.width;\n\t\tvar currentHeight = self.contentStartPos.height;\n\n\t\tvar currentOffsetX = self.contentStartPos.left;\n\t\tvar currentOffsetY = self.contentStartPos.top;\n\n\t\tvar endDistanceBetweenFingers = distance( self.newPoints[0], self.newPoints[1] );\n\n\t\tvar pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n\t\tvar newWidth  = Math.floor( currentWidth  * pinchRatio );\n\t\tvar newHeight = Math.floor( currentHeight * pinchRatio );\n\n\t\t// This is the translation due to pinch-zooming\n\t\tvar translateFromZoomingX = (currentWidth  - newWidth)  * self.percentageOfImageAtPinchPointX;\n\t\tvar translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n\t\t//Point between the two touches\n\n\t\tvar centerPointEndX = ((self.newPoints[0].x + self.newPoints[1].x) / 2) - $(window).scrollLeft();\n\t\tvar centerPointEndY = ((self.newPoints[0].y + self.newPoints[1].y) / 2) - $(window).scrollTop();\n\n\t\t// And this is the translation due to translation of the centerpoint\n\t\t// between the two fingers\n\n\t\tvar translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n\t\tvar translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n\t\t// The new offset is the old/current one plus the total translation\n\n\t\tvar newOffsetX = currentOffsetX + ( translateFromZoomingX + translateFromTranslatingX );\n\t\tvar newOffsetY = currentOffsetY + ( translateFromZoomingY + translateFromTranslatingY );\n\n\t\tvar newPos = {\n\t\t\ttop    : newOffsetY,\n\t\t\tleft   : newOffsetX,\n\t\t\tscaleX : self.contentStartPos.scaleX * pinchRatio,\n\t\t\tscaleY : self.contentStartPos.scaleY * pinchRatio\n\t\t};\n\n\t\tself.canTap = false;\n\n\t\tself.newWidth  = newWidth;\n\t\tself.newHeight = newHeight;\n\n\t\tself.contentLastPos = newPos;\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\n\t\t});\n\n\t};\n\n\tGuestures.prototype.ontouchend = function( e ) {\n\t\tvar self = this;\n\t\tvar dMs  = Math.max( (new Date().getTime() ) - self.startTime, 1);\n\n\t\tvar swiping   = self.isSwiping;\n\t\tvar panning   = self.isPanning;\n\t\tvar zooming   = self.isZooming;\n\t\tvar scrolling = self.isScrolling;\n\n\t\tself.endPoints = pointers( e );\n\n\t\tself.$container.removeClass( 'fancybox-controls--isGrabbing' );\n\n\t\t$(document).off( '.fb.touch' );\n\n\t\tdocument.removeEventListener('scroll', self.onscroll, true);\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.isSwiping   = false;\n\t\tself.isPanning   = false;\n\t\tself.isZooming   = false;\n\t\tself.isScrolling = false;\n\n\t\tself.instance.isDragging = false;\n\n\t\tif ( self.canTap ) {\n\t\t\treturn self.onTap( e );\n\t\t}\n\n\t\tself.speed = 366;\n\n\t\t// Speed in px/ms\n\t\tself.velocityX = self.distanceX / dMs * 0.5;\n\t\tself.velocityY = self.distanceY / dMs * 0.5;\n\n\t\tself.speedX = Math.max( self.speed * 0.5, Math.min( self.speed * 1.5, ( 1 / Math.abs( self.velocityX ) ) * self.speed ) );\n\n\t\tif ( panning ) {\n\t\t\tself.endPanning();\n\n\t\t} else if ( zooming ) {\n\t\t\tself.endZooming();\n\n\t\t} else {\n\t\t\tself.endSwiping( swiping, scrolling );\n\t\t}\n\n\t\treturn;\n\t};\n\n\tGuestures.prototype.endSwiping = function( swiping, scrolling ) {\n\t\tvar self = this,\n\t\t\tret  = false,\n\t\t\tlen  = self.instance.group.length;\n\n\t\tself.sliderLastPos = null;\n\n\t\t// Close if swiped vertically / navigate if horizontally\n\t\tif ( swiping == 'y' && !scrolling && Math.abs( self.distanceY ) > 50 ) {\n\n\t\t\t// Continue vertical movement\n\t\t\t$.fancybox.animate( self.instance.current.$slide, {\n\t\t\t\ttop     : self.sliderStartPos.top + self.distanceY + ( self.velocityY * 150 ),\n\t\t\t\topacity : 0\n\t\t\t}, 150 );\n\n\t\t\tret = self.instance.close( true, 300 );\n\n\t\t} else if ( swiping == 'x' && self.distanceX > 50 && len > 1 ) {\n\t\t\tret = self.instance.previous( self.speedX );\n\n\t\t} else if ( swiping == 'x' && self.distanceX < -50 && len > 1 ) {\n\t\t\tret = self.instance.next( self.speedX );\n\t\t}\n\n\t\tif ( ret === false && ( swiping == 'x' || swiping == 'y' ) ) {\n\t\t\tif ( scrolling || len < 2 ) {\n\t\t\t\tself.instance.centerSlide( self.instance.current, 150 );\n\t\t\t} else {\n\t\t\t\tself.instance.jumpTo( self.instance.current.index );\n\t\t\t}\n\t\t}\n\n\t\tself.$container.removeClass( 'fancybox-is-sliding' );\n\n\t};\n\n\t// Limit panning from edges\n\t// ========================\n\n\tGuestures.prototype.endPanning = function() {\n\n\t\tvar self = this;\n\t\tvar newOffsetX, newOffsetY, newPos;\n\n\t\tif ( !self.contentLastPos ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( self.opts.momentum === false ) {\n\t\t\tnewOffsetX = self.contentLastPos.left;\n\t\t\tnewOffsetY = self.contentLastPos.top;\n\n\t\t} else {\n\n\t\t\t// Continue movement\n\t\t\tnewOffsetX = self.contentLastPos.left + ( self.velocityX * self.speed );\n\t\t\tnewOffsetY = self.contentLastPos.top  + ( self.velocityY * self.speed );\n\t\t}\n\n\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\n\n\t\t newPos.width  = self.contentStartPos.width;\n\t\t newPos.height = self.contentStartPos.height;\n\n\t\t$.fancybox.animate( self.$content, newPos, 330 );\n\t};\n\n\n\tGuestures.prototype.endZooming = function() {\n\t\tvar self = this;\n\n\t\tvar current = self.instance.current;\n\n\t\tvar newOffsetX, newOffsetY, newPos, reset;\n\n\t\tvar newWidth  = self.newWidth;\n\t\tvar newHeight = self.newHeight;\n\n\t\tif ( !self.contentLastPos ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnewOffsetX = self.contentLastPos.left;\n\t\tnewOffsetY = self.contentLastPos.top;\n\n\t\treset = {\n\t\t\ttop    : newOffsetY,\n\t\t\tleft   : newOffsetX,\n\t\t\twidth  : newWidth,\n\t\t\theight : newHeight,\n\t\t\tscaleX : 1,\n\t\t\tscaleY : 1\n\t\t};\n\n\t\t// Reset scalex/scaleY values; this helps for perfomance and does not break animation\n\t\t$.fancybox.setTranslate( self.$content, reset );\n\n\t\tif ( newWidth < self.canvasWidth && newHeight < self.canvasHeight ) {\n\t\t\tself.instance.scaleToFit( 150 );\n\n\t\t} else if ( newWidth > current.width || newHeight > current.height ) {\n\t\t\tself.instance.scaleToActual( self.centerPointStartX, self.centerPointStartY, 150 );\n\n\t\t} else {\n\n\t\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, newWidth, newHeight );\n\n\t\t\t// Switch from scale() to width/height or animation will not work correctly\n\t\t\t$.fancybox.setTranslate( self.content, $.fancybox.getTranslate( self.$content ) );\n\n\t\t\t$.fancybox.animate( self.$content, newPos, 150 );\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onTap = function(e) {\n\t\tvar self    = this;\n\t\tvar $target = $( e.target );\n\n\t\tvar instance = self.instance;\n\t\tvar current  = instance.current;\n\n\t\tvar endPoints = ( e && pointers( e ) ) || self.startPoints;\n\n\t\tvar tapX = endPoints[0] ? endPoints[0].x - self.$stage.offset().left : 0;\n\t\tvar tapY = endPoints[0] ? endPoints[0].y - self.$stage.offset().top  : 0;\n\n\t\tvar where;\n\n\t\tvar process = function ( prefix ) {\n\n\t\t\tvar action = current.opts[ prefix ];\n\n\t\t\tif ( $.isFunction( action ) ) {\n\t\t\t\taction = action.apply( instance, [ current, e ] );\n\t\t\t}\n\n\t\t\tif ( !action) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase \"close\" :\n\n\t\t\t\t\tinstance.close( self.startEvent );\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"toggleControls\" :\n\n\t\t\t\t\tinstance.toggleControls( true );\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"next\" :\n\n\t\t\t\t\tinstance.next();\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"nextOrClose\" :\n\n\t\t\t\t\tif ( instance.group.length > 1 ) {\n\t\t\t\t\t\tinstance.next();\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstance.close( self.startEvent );\n\t\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"zoom\" :\n\n\t\t\t\t\tif ( current.type == 'image' && ( current.isLoaded || current.$ghost ) ) {\n\n\t\t\t\t\t\tif ( instance.canPan() ) {\n\t\t\t\t\t\t\tinstance.scaleToFit();\n\n\t\t\t\t\t\t} else if ( instance.isScaledDown() ) {\n\t\t\t\t\t\t\tinstance.scaleToActual( tapX, tapY );\n\n\t\t\t\t\t\t} else if ( instance.group.length < 2 ) {\n\t\t\t\t\t\t\tinstance.close( self.startEvent );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t};\n\n\t\t// Ignore right click\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Skip if clicked on the scrollbar\n\t\tif ( !$target.is('img') && tapX > $target[0].clientWidth + $target.offset().left ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check where is clicked\n\t\tif ( $target.is( '.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container' ) ) {\n\t\t\twhere = 'Outside';\n\n\t\t} else if ( $target.is( '.fancybox-slide' ) ) {\n\t\t\twhere = 'Slide';\n\n\t\t} else if ( instance.current.$content && instance.current.$content.find( $target ).addBack().filter( $target ).length ) {\n\t\t \twhere = 'Content';\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if this is a double tap\n\t\tif ( self.tapped ) {\n\n\t\t\t// Stop previously created single tap\n\t\t\tclearTimeout( self.tapped );\n\t\t\tself.tapped = null;\n\n\t\t\t// Skip if distance between taps is too big\n\t\t\tif ( Math.abs( tapX - self.tapX ) > 50 || Math.abs( tapY - self.tapY ) > 50 ) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// OK, now we assume that this is a double-tap\n\t\t\tprocess( 'dblclick' + where );\n\n\t\t} else {\n\n\t\t\t// Single tap will be processed if user has not clicked second time within 300ms\n\t\t\t// or there is no need to wait for double-tap\n\t\t\tself.tapX = tapX;\n\t\t\tself.tapY = tapY;\n\n\t\t\tif ( current.opts[ 'dblclick' + where ] && current.opts[ 'dblclick' + where ] !== current.opts[ 'click' + where ] ) {\n\n\t\t\t\tself.tapped = setTimeout(function() {\n\t\t\t\t\tself.tapped = null;\n\n\t\t\t\t\tprocess( 'click' + where );\n\n\t\t\t\t}, 500);\n\n\t\t\t} else {\n\t\t\t\tprocess( 'click' + where );\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t$(document).on('onActivate.fb', function (e, instance) {\n\t\tif ( instance && !instance.Guestures ) {\n\t\t\tinstance.Guestures = new Guestures( instance );\n\t\t}\n\t});\n\n}( window, document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tslideShow :\n\t\t\t\t'<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M13,12 L27,20 L13,27 Z\" />' +\n\t\t\t\t\t\t'<path d=\"M15,10 v19 M23,10 v19\" />' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tslideShow : {\n\t\t\tautoStart : false,\n            speed     : 3000\n\t\t}\n\t});\n\n\tvar SlideShow = function( instance ) {\n\t\tthis.instance = instance;\n\t\tthis.init();\n\t};\n\n\t$.extend( SlideShow.prototype, {\n\t\ttimer    : null,\n\t\tisActive : false,\n\t\t$button  : null,\n\n\t\tinit : function() {\n\t\t\tvar self = this;\n\n\t\t\tself.$button = self.instance.$refs.toolbar.find('[data-fancybox-play]').on('click', function() {\n\t\t\t\tself.toggle();\n\t\t\t});\n\n\t\t\tif ( self.instance.group.length < 2 || !self.instance.group[ self.instance.currIndex ].opts.slideShow ) {\n\t\t\t\tself.$button.hide();\n\t\t\t}\n\t\t},\n\n\t\tset : function( force ) {\n\t\t\tvar self = this;\n\n\t\t\t// Check if reached last element\n\t\t\tif ( self.instance && self.instance.current && (force === true || self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1 )) {\n\t\t\t\tself.timer = setTimeout(function() {\n\t\t\t\t\tif ( self.isActive ) {\n\t\t\t\t\t\tself.instance.jumpTo( (self.instance.currIndex + 1) % self.instance.group.length );\n\t\t\t\t\t}\n\n\t\t\t\t}, self.instance.current.opts.slideShow.speed);\n\n\t\t\t} else {\n\t\t\t\tself.stop();\n\t\t\t\tself.instance.idleSecondsCounter = 0;\n\t\t\t\tself.instance.showControls();\n\t\t\t}\n\t\t},\n\n\t\tclear : function() {\n\t\t\tvar self = this;\n\n\t\t\tclearTimeout( self.timer );\n\n\t\t\tself.timer = null;\n\t\t},\n\n\t\tstart : function() {\n\t\t\tvar self = this;\n\t\t\tvar current = self.instance.current;\n\n\t\t\tif ( current ) {\n\t\t\t\tself.isActive = true;\n\n\t\t\t\tself.$button\n\t\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_STOP )\n\t\t\t\t\t.removeClass( 'fancybox-button--play' )\n\t\t\t\t\t.addClass( 'fancybox-button--pause' );\n\n\t\t\t\t\tself.set( true );\n\t\t\t}\n\t\t},\n\n\t\tstop : function() {\n\t\t\tvar self = this;\n\t\t\tvar current = self.instance.current;\n\n\t\t\tself.clear();\n\n\t\t\tself.$button\n\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_START )\n\t\t\t\t.removeClass( 'fancybox-button--pause' )\n\t\t\t\t.addClass( 'fancybox-button--play' );\n\n\t\t\tself.isActive = false;\n\t\t},\n\n\t\ttoggle : function() {\n\t\t\tvar self = this;\n\n\t\t\tif ( self.isActive ) {\n\t\t\t\tself.stop();\n\n\t\t\t} else {\n\t\t\t\tself.start();\n\t\t\t}\n\t\t}\n\n\t});\n\n\t$(document).on({\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tif ( instance && !instance.SlideShow ) {\n\t\t\t\tinstance.SlideShow = new SlideShow( instance );\n\t\t\t}\n\t\t},\n\n\t\t'beforeShow.fb' : function(e, instance, current, firstRun) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( firstRun ) {\n\n\t\t\t\tif ( SlideShow && current.opts.slideShow.autoStart ) {\n\t\t\t\t\tSlideShow.start();\n\t\t\t\t}\n\n\t\t\t} else if ( SlideShow && SlideShow.isActive )  {\n\t\t\t\tSlideShow.clear();\n\t\t\t}\n\t\t},\n\n\t\t'afterShow.fb' : function(e, instance, current) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( SlideShow && SlideShow.isActive ) {\n\t\t\t\tSlideShow.set();\n\t\t\t}\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\t// \"P\" or Spacebar\n\t\t\tif ( SlideShow && current.opts.slideShow && ( keycode === 80 || keycode === 32 ) && !$(document.activeElement).is( 'button,a,input' ) ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tSlideShow.toggle();\n\t\t\t}\n\t\t},\n\n\t\t'beforeClose.fb onDeactivate.fb' : function(e, instance) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( SlideShow ) {\n\t\t\t\tSlideShow.stop();\n\t\t\t}\n\t\t}\n\t});\n\n\t// Page Visibility API to pause slideshow when window is not active\n\t$(document).on(\"visibilitychange\", function() {\n\t\tvar instance  = $.fancybox.getInstance();\n\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\tif ( SlideShow && SlideShow.isActive ) {\n\t\t\tif ( document.hidden ) {\n\t\t\t\tSlideShow.clear();\n\n\t\t\t} else {\n\t\t\t\tSlideShow.set();\n\t\t\t}\n\t\t}\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t// Collection of methods supported by user browser\n\tvar fn = (function () {\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar val;\n\t\tvar ret = {};\n\t\tvar i, j;\n\n\t\tfor ( i = 0; i < fnMap.length; i++ ) {\n\t\t\tval = fnMap[ i ];\n\n\t\t\tif ( val && val[ 1 ] in document ) {\n\t\t\t\tfor ( j = 0; j < val.length; j++ ) {\n\t\t\t\t\tret[ fnMap[ 0 ][ j ] ] = val[ j ];\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\t// If browser does not have Full Screen API, then simply unset default button template and stop\n\tif ( !fn ) {\n\n\t\tif ( $ && $.fancybox ) {\n\t\t\t$.fancybox.defaults.btnTpl.fullScreen = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tvar FullScreen = {\n\n\t\trequest : function ( elem ) {\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\telem[ fn.requestFullscreen ]( elem.ALLOW_KEYBOARD_INPUT );\n\n\t\t},\n\t\texit : function () {\n\n\t\t\tdocument[ fn.exitFullscreen ]();\n\n\t\t},\n\t\ttoggle : function ( elem ) {\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\tif ( this.isFullscreen() ) {\n\t\t\t\tthis.exit();\n\n\t\t\t} else {\n\t\t\t\tthis.request( elem );\n\t\t\t}\n\n\t\t},\n\t\tisFullscreen : function()  {\n\n\t\t\treturn Boolean( document[ fn.fullscreenElement ] );\n\n\t\t},\n\t\tenabled : function()  {\n\n\t\t\treturn Boolean( document[ fn.fullscreenEnabled ] );\n\n\t\t}\n\t};\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tfullScreen :\n\t\t\t\t'<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M9,12 h22 v16 h-22 v-16 v16 h22 v-16 Z\" />' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tfullScreen : {\n\t\t\tautoStart : false\n\t\t}\n\t});\n\n\t$(document).on({\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tvar $container;\n\n\t\t\tif ( instance && instance.group[ instance.currIndex ].opts.fullScreen ) {\n\t\t\t\t$container = instance.$refs.container;\n\n\t\t\t\t$container.on('click.fb-fullscreen', '[data-fancybox-fullscreen]', function(e) {\n\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tFullScreen.toggle( $container[ 0 ] );\n\n\t\t\t\t});\n\n\t\t\t\tif ( instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true ) {\n\t\t\t\t\tFullScreen.request( $container[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// Expose API\n\t\t\t\tinstance.FullScreen = FullScreen;\n\n\t\t\t} else if ( instance ) {\n\t\t\t\tinstance.$refs.toolbar.find('[data-fancybox-fullscreen]').hide();\n\t\t\t}\n\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\n\t\t\t// \"P\" or Spacebar\n\t\t\tif ( instance && instance.FullScreen && keycode === 70 ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tinstance.FullScreen.toggle( instance.$refs.container[ 0 ] );\n\t\t\t}\n\n\t\t},\n\n\t\t'beforeClose.fb' : function( instance ) {\n\t\t\tif ( instance && instance.FullScreen ) {\n\t\t\t\tFullScreen.exit();\n\t\t\t}\n\t\t}\n\t});\n\n\t$(document).on(fn.fullscreenchange, function() {\n\t\tvar isFullscreen = FullScreen.isFullscreen(),\n\t\t\tinstance = $.fancybox.getInstance();\n\n\t\tif ( instance ) {\n\n\t\t\t// If image is zooming, then force to stop and reposition properly\n\t\t\tif ( instance.current && instance.current.type === 'image' && instance.isAnimating ) {\n\t\t\t\tinstance.current.$content.css( 'transition', 'none' );\n\n\t\t\t\tinstance.isAnimating = false;\n\n\t\t\t\tinstance.update( true, true, 0 );\n\t\t\t}\n\n\t\t\tinstance.trigger( 'onFullscreenChange', isFullscreen );\n\n\t\t\tinstance.$refs.container.toggleClass( 'fancybox-is-fullscreen', isFullscreen );\n\t\t}\n\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t// Make sure there are default values\n\t$.fancybox.defaults = $.extend(true, {\n\t\tbtnTpl : {\n\t\t\tthumbs :\n\t\t\t'<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\n\t\t\t\t'<svg viewBox=\"0 0 120 120\">' +\n\t\t\t\t\t'<path d=\"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z\" />' +\n\t\t\t\t'</svg>' +\n\t\t\t'</button>'\n\t\t},\n\t\tthumbs : {\n\t\t\tautoStart   : false,                  // Display thumbnails on opening\n\t\t\thideOnClose : true,                   // Hide thumbnail grid when closing animation starts\n\t\t\tparentEl    : '.fancybox-container',  // Container is injected into this element\n\t\t\taxis        : 'y'                     // Vertical (y) or horizontal (x) scrolling\n\t\t}\n\t}, $.fancybox.defaults);\n\n\tvar FancyThumbs = function( instance ) {\n\t\tthis.init( instance );\n\t};\n\n\t$.extend( FancyThumbs.prototype, {\n\n\t\t$button\t\t: null,\n\t\t$grid\t\t: null,\n\t\t$list\t\t: null,\n\t\tisVisible\t: false,\n\t\tisActive\t: false,\n\n\t\tinit : function( instance ) {\n\t\t\tvar self = this;\n\n\t\t\tself.instance = instance;\n\n\t\t\tinstance.Thumbs = self;\n\n\t\t\t// Enable thumbs if at least two group items have thumbnails\n\t\t\tvar first  = instance.group[0],\n\t\t\t\tsecond = instance.group[1];\n\n\t\t\tself.opts = instance.group[ instance.currIndex ].opts.thumbs;\n\n\t\t\tself.$button = instance.$refs.toolbar.find( '[data-fancybox-thumbs]' );\n\n\t\t\tif ( self.opts && first && second && (\n\t\t    \t\t( first.type == 'image'  || first.opts.thumb  || first.opts.$thumb ) &&\n\t\t    \t\t( second.type == 'image' || second.opts.thumb || second.opts.$thumb )\n\t\t\t)) {\n\n\t\t\t\tself.$button.show().on('click', function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t});\n\n\t\t\t\tself.isActive = true;\n\n\t\t\t} else {\n\t\t\t\tself.$button.hide();\n\t\t\t}\n\t\t},\n\n\t\tcreate : function() {\n\t\t\tvar self = this,\n\t\t\t\tinstance = self.instance,\n\t\t\t\tparentEl = self.opts.parentEl,\n\t\t\t\tlist,\n\t\t\t\tsrc;\n\n\t\t\tself.$grid = $('<div class=\"fancybox-thumbs fancybox-thumbs-' + self.opts.axis + '\"></div>').appendTo( instance.$refs.container.find( parentEl ).addBack().filter( parentEl ) );\n\n\t\t\t// Build list HTML\n\t\t\tlist = '<ul>';\n\n\t\t\t$.each(instance.group, function( i, item ) {\n\t\t\t\tsrc = item.opts.thumb || ( item.opts.$thumb ? item.opts.$thumb.attr( 'src' ) : null );\n\n\t\t\t\tif ( !src && item.type === 'image' ) {\n\t\t\t\t\tsrc = item.src;\n\t\t\t\t}\n\n\t\t\t\tif ( src && src.length ) {\n\t\t\t\t\tlist += '<li data-index=\"' + i + '\"  tabindex=\"0\" class=\"fancybox-thumbs-loading\"><img data-src=\"' + src + '\" /></li>';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlist += '</ul>';\n\n\t\t\tself.$list = $( list ).appendTo( self.$grid ).on('click', 'li', function() {\n\t\t\t\tinstance.jumpTo( $(this).data('index') );\n\t\t\t});\n\n\t\t\tself.$list.find( 'img' ).hide().one('load', function() {\n\t\t\t\tvar $parent\t\t= $(this).parent().removeClass( 'fancybox-thumbs-loading' ),\n\t\t\t\t\tthumbWidth\t= $parent.outerWidth(),\n\t\t\t\t\tthumbHeight\t= $parent.outerHeight(),\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\twidthRatio,\n\t\t\t\t\theightRatio;\n\n\t\t\t\twidth  = this.naturalWidth\t|| this.width;\n\t\t\t\theight = this.naturalHeight\t|| this.height;\n\n\t\t\t\t// Calculate thumbnail dimensions; center vertically and horizontally\n\t\t\t\twidthRatio  = width  / thumbWidth;\n\t\t\t\theightRatio = height / thumbHeight;\n\n\t\t\t\tif (widthRatio >= 1 && heightRatio >= 1) {\n\t\t\t\t\tif (widthRatio > heightRatio) {\n\t\t\t\t\t\twidth  = width / heightRatio;\n\t\t\t\t\t\theight = thumbHeight;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidth  = thumbWidth;\n\t\t\t\t\t\theight = height / widthRatio;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$(this).css({\n\t\t\t\t\twidth         : Math.floor(width),\n\t\t\t\t\theight        : Math.floor(height),\n\t\t\t\t\t'margin-top'  : height > thumbHeight ? ( Math.floor(thumbHeight * 0.3 - height * 0.3 ) ) : Math.floor(thumbHeight * 0.5 - height * 0.5 ),\n\t\t\t\t\t'margin-left' : Math.floor(thumbWidth * 0.5 - width * 0.5 )\n\t\t\t\t}).show();\n\n\t\t\t})\n\t\t\t.each(function() {\n\t\t\t\tthis.src = $( this ).data( 'src' );\n\t\t\t});\n\n\t\t\tif ( self.opts.axis === 'x' ) {\n\t\t\t\tself.$list.width( parseInt( self.$grid.css(\"padding-right\") ) + ( instance.group.length * self.$list.children().eq(0).outerWidth(true) ) + 'px' );\n\t\t\t}\n\t\t},\n\n\t\tfocus : function( duration ) {\n\t\t\tvar self = this,\n\t\t\t\t$list = self.$list,\n\t\t\t\tthumb,\n\t\t\t\tthumbPos;\n\n\t\t\tif ( self.instance.current ) {\n\t\t\t\tthumb = $list.children()\n\t\t\t\t\t.removeClass( 'fancybox-thumbs-active' )\n\t\t\t\t\t.filter('[data-index=\"' + self.instance.current.index  + '\"]')\n\t\t\t\t\t.addClass('fancybox-thumbs-active');\n\n\t\t\t\tthumbPos = thumb.position();\n\n\t\t\t\t// Check if need to scroll to make current thumb visible\n\t\t\t\tif ( self.opts.axis === 'y' && ( thumbPos.top < 0 || thumbPos.top > ( $list.height() - thumb.outerHeight() ) ) ) {\n\t\t\t\t\t$list.stop().animate({ 'scrollTop' : $list.scrollTop() + thumbPos.top }, duration);\n\n\t\t\t\t} else if ( self.opts.axis === 'x' && (\n\t\t\t\t\t\tthumbPos.left < $list.parent().scrollLeft() ||\n\t\t\t\t\t\tthumbPos.left > ( $list.parent().scrollLeft() + ( $list.parent().width() - thumb.outerWidth() ) )\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t$list.parent().stop().animate({ 'scrollLeft' : thumbPos.left }, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdate : function() {\n\t\t\tthis.instance.$refs.container.toggleClass( 'fancybox-show-thumbs', this.isVisible );\n\n\t\t\tif ( this.isVisible ) {\n\t\t\t\tif ( !this.$grid ) {\n\t\t\t\t\tthis.create();\n\t\t\t\t}\n\n\t\t\t\tthis.instance.trigger( 'onThumbsShow' );\n\n\t\t\t\tthis.focus( 0 );\n\n\t\t\t} else if ( this.$grid ) {\n\t\t\t\tthis.instance.trigger( 'onThumbsHide' );\n\t\t\t}\n\n\t\t\t// Update content position\n\t\t\tthis.instance.update();\n\t\t},\n\n\t\thide : function() {\n\t\t\tthis.isVisible = false;\n\t\t\tthis.update();\n\t\t},\n\n\t\tshow : function() {\n\t\t\tthis.isVisible = true;\n\t\t\tthis.update();\n\t\t},\n\n\t\ttoggle : function() {\n\t\t\tthis.isVisible = !this.isVisible;\n\t\t\tthis.update();\n\t\t}\n\t});\n\n\t$(document).on({\n\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tvar Thumbs;\n\n\t\t\tif ( instance && !instance.Thumbs ) {\n\t\t\t\tThumbs = new FancyThumbs( instance );\n\n\t\t\t\tif ( Thumbs.isActive && Thumbs.opts.autoStart === true ) {\n\t\t\t\t\tThumbs.show();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t'beforeShow.fb' : function(e, instance, item, firstRun) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\tif ( Thumbs && Thumbs.isVisible ) {\n\t\t\t\tThumbs.focus( firstRun ? 0 : 250 );\n\t\t\t}\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\t// \"G\"\n\t\t\tif ( Thumbs && Thumbs.isActive && keycode === 71 ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tThumbs.toggle();\n\t\t\t}\n\t\t},\n\n\t\t'beforeClose.fb' : function( e, instance ) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\tif ( Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false ) {\n\t\t\t\tThumbs.$grid.hide();\n\t\t\t}\n\t\t}\n\n\t});\n\n}(document, window.jQuery));\n\n//// ==========================================================================\n//\n// Share\n// Displays simple form for sharing current url\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tshare :\n\t\t\t\t'<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z\">' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tshare : {\n\t\t\ttpl :\n\t\t\t\t'<div class=\"fancybox-share\">' +\n\t\t\t\t\t'<h1>{{SHARE}}</h1>' +\n\t\t\t\t\t'<p class=\"fancybox-share__links\">' +\n\t\t\t\t\t\t'<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\n\t\t\t\t\t\t\t'<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\n\t\t\t\t\t\t\t'<span>Facebook</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t\t'<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\n\t\t\t\t\t\t\t'<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\n\t\t\t\t\t\t\t'<span>Pinterest</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t\t'<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\n\t\t\t\t\t\t\t'<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\n\t\t\t\t\t\t\t'<span>Twitter</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</p>' +\n\t\t\t\t\t'<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" /></p>' +\n\t\t\t\t'</div>'\n\t\t}\n\t});\n\n\tfunction escapeHtml(string) {\n\t\tvar entityMap = {\n\t\t  '&': '&amp;',\n\t\t  '<': '&lt;',\n\t\t  '>': '&gt;',\n\t\t  '\"': '&quot;',\n\t\t  \"'\": '&#39;',\n\t\t  '/': '&#x2F;',\n\t\t  '`': '&#x60;',\n\t\t  '=': '&#x3D;'\n\t\t};\n\n\t\treturn String(string).replace(/[&<>\"'`=\\/]/g, function (s) {\n\t\t\treturn entityMap[s];\n\t\t});\n\t}\n\n\t$(document).on('click', '[data-fancybox-share]', function() {\n\t\tvar f = $.fancybox.getInstance(),\n\t\t\turl,\n\t\t\ttpl;\n\n\t\tif ( f ) {\n\t\t\turl = f.current.opts.hash === false ? f.current.src : window.location;\n\t\t\ttpl = f.current.opts.share.tpl\n\t\t\t\t\t.replace( /\\{\\{media\\}\\}/g, f.current.type === 'image' ? encodeURIComponent( f.current.src ) : '' )\n\t\t\t\t\t.replace( /\\{\\{url\\}\\}/g, encodeURIComponent( url ) )\n\t\t\t\t\t.replace( /\\{\\{url_raw\\}\\}/g, escapeHtml( url ) )\n\t\t\t\t\t.replace( /\\{\\{descr\\}\\}/g, f.$caption ? encodeURIComponent( f.$caption.text() ) : '' );\n\n\t\t\t$.fancybox.open({\n\t\t\t\tsrc  : f.translate( f, tpl ),\n\t\t\t\ttype : 'html',\n\t\t\t\topts : {\n\t\t\t\t\tanimationEffect   : \"fade\",\n\t\t\t\t\tanimationDuration : 250,\n\t\t\t\t\tafterLoad : function(instance, current) {\n\t\t\t\t\t\t// Opening links in a popup window\n\t\t\t\t\t\tcurrent.$content.find('.fancybox-share__links a').click(function() {\n\t\t\t\t\t        window.open(this.href, \"Share\", \"width=550, height=450\");\n\t\t\t\t\t        return false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n;(function (document, window, $) {\n\t'use strict';\n\n\t// Simple $.escapeSelector polyfill (for jQuery prior v3)\n\tif ( !$.escapeSelector ) {\n\t\t$.escapeSelector = function( sel ) {\n\t\t\tvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\t\t\tvar fcssescape = function( ch, asCodePoint ) {\n\t\t\t\tif ( asCodePoint ) {\n\t\t\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\t\t\treturn \"\\uFFFD\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t\t\t}\n\n\t\t\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\t\t\treturn \"\\\\\" + ch;\n\t\t\t};\n\n\t\t\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n\t\t};\n\t}\n\n\t// Create new history entry only once\n\tvar shouldCreateHistory = true;\n\n\t// Variable containing last hash value set by fancyBox\n\t// It will be used to determine if fancyBox needs to close after hash change is detected\n    var currentHash = null;\n\n\t// Throttling the history change\n\tvar timerID = null;\n\n\t// Get info about gallery name and current index from url\n    function parseUrl() {\n        var hash    = window.location.hash.substr( 1 );\n        var rez     = hash.split( '-' );\n        var index   = rez.length > 1 && /^\\+?\\d+$/.test( rez[ rez.length - 1 ] ) ? parseInt( rez.pop( -1 ), 10 ) || 1 : 1;\n        var gallery = rez.join( '-' );\n\n\t\t// Index is starting from 1\n\t\tif ( index < 1 ) {\n\t\t\tindex = 1;\n\t\t}\n\n        return {\n            hash    : hash,\n            index   : index,\n            gallery : gallery\n        };\n    }\n\n\t// Trigger click evnt on links to open new fancyBox instance\n\tfunction triggerFromUrl( url ) {\n\t\tvar $el;\n\n        if ( url.gallery !== '' ) {\n\n\t\t\t// If we can find element matching 'data-fancybox' atribute, then trigger click event for that ..\n\t\t\t$el = $( \"[data-fancybox='\" + $.escapeSelector( url.gallery ) + \"']\" ).eq( url.index - 1 );\n\n            if ( !$el.length ) {\n\t\t\t\t// .. if not, try finding element by ID\n\t\t\t\t$el = $( \"#\" + $.escapeSelector( url.gallery ) + \"\" );\n\t\t\t}\n\n\t\t\tif ( $el.length ) {\n\t\t\t\tshouldCreateHistory = false;\n\n\t\t\t\t$el.trigger( 'click' );\n\t\t\t}\n\n        }\n\t}\n\n\t// Get gallery name from current instance\n\tfunction getGalleryID( instance ) {\n\t\tvar opts;\n\n\t\tif ( !instance ) {\n\t\t\treturn false;\n\t\t}\n\n\t\topts = instance.current ? instance.current.opts : instance.opts;\n\n\t\treturn opts.hash || ( opts.$orig ? opts.$orig.data( 'fancybox' ) : ''  );\n\t}\n\n\t// Start when DOM becomes ready\n    $(function() {\n\n\t\t// Check if user has disabled this module\n\t\tif ( $.fancybox.defaults.hash === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update hash when opening/closing fancyBox\n\t    $(document).on({\n\t\t\t'onInit.fb' : function( e, instance ) {\n\t\t\t\tvar url, gallery;\n\n\t\t\t\tif ( instance.group[ instance.currIndex ].opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\turl     = parseUrl();\n\t\t\t\tgallery = getGalleryID( instance );\n\n\t\t\t\t// Make sure gallery start index matches index from hash\n\t\t\t\tif ( gallery && url.gallery && gallery == url.gallery ) {\n\t\t\t\t\tinstance.currIndex = url.index - 1;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t'beforeShow.fb' : function( e, instance, current ) {\n\t\t\t\tvar gallery;\n\n\t\t\t\tif ( !current || current.opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t            gallery = getGalleryID( instance );\n\n\t            // Update window hash\n\t            if ( gallery && gallery !== '' ) {\n\n\t\t\t\t\tif ( window.location.hash.indexOf( gallery ) < 0 ) {\n\t\t                instance.opts.origHash = window.location.hash;\n\t\t            }\n\n\t\t\t\t\tcurrentHash = gallery + ( instance.group.length > 1 ? '-' + ( current.index + 1 ) : '' );\n\n\t\t\t\t\tif ( 'replaceState' in window.history ) {\n\t\t\t\t\t\tif ( timerID ) {\n\t\t\t\t\t\t\tclearTimeout( timerID );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttimerID = setTimeout(function() {\n\t\t\t\t\t\t\twindow.history[ shouldCreateHistory ? 'pushState' : 'replaceState' ]( {} , document.title, window.location.pathname + window.location.search + '#' +  currentHash );\n\n\t\t\t\t\t\t\ttimerID = null;\n\n\t\t\t\t\t\t\tshouldCreateHistory = false;\n\n\t\t\t\t\t\t}, 300);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.location.hash = currentHash;\n\t\t\t\t\t}\n\n\t            }\n\n\t        },\n\n\t\t\t'beforeClose.fb' : function( e, instance, current ) {\n\t\t\t\tvar gallery, origHash;\n\n\t\t\t\tif ( timerID ) {\n\t\t\t\t\tclearTimeout( timerID );\n\t\t\t\t}\n\n\t\t\t\tif ( current.opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tgallery  = getGalleryID( instance );\n\t\t\t\torigHash = instance && instance.opts.origHash ? instance.opts.origHash : '';\n\n\t            // Remove hash from location bar\n\t            if ( gallery && gallery !== '' ) {\n\n\t                if ( 'replaceState' in history ) {\n\t\t\t\t\t\twindow.history.replaceState( {} , document.title, window.location.pathname + window.location.search + origHash );\n\n\t                } else {\n\t\t\t\t\t\twindow.location.hash = origHash;\n\n\t\t\t\t\t\t// Keep original scroll position\n\t\t\t\t\t\t$( window ).scrollTop( instance.scrollTop ).scrollLeft( instance.scrollLeft );\n\t                }\n\t            }\n\n\t\t\t\tcurrentHash = null;\n\t        }\n\t    });\n\n\t\t// Check if need to close after url has changed\n\t\t$(window).on('hashchange.fb', function() {\n\t\t\tvar url = parseUrl();\n\n\t\t\tif ( $.fancybox.getInstance() ) {\n\t\t\t\tif ( currentHash && currentHash !== url.gallery + '-' + url.index && !( url.index === 1 && currentHash == url.gallery ) ) {\n\t\t\t\t\tcurrentHash = null;\n\n\t\t\t\t\t$.fancybox.close();\n\t\t\t\t}\n\n\t\t\t} else if ( url.gallery !== '' ) {\n\t\t\t\ttriggerFromUrl( url );\n\t\t\t}\n\t\t});\n\n\t\t// Check current hash and trigger click event on matching element to start fancyBox, if needed\n\t\tsetTimeout(function() {\n\t\t\ttriggerFromUrl( parseUrl() );\n\t\t}, 50);\n    });\n\n}( document, window, window.jQuery || jQuery ));\n\n;(function (document, $) {\n\t'use strict';\n\n\tvar prevTime = new Date().getTime();\n\n    $(document).on({\n        'onInit.fb' : function( e, instance, current ) {\n\t\t\tinstance.$refs.stage.on('mousewheel DOMMouseScroll wheel MozMousePixelScroll', function(e) {\n\t\t\t\tvar current  = instance.current,\n\t\t\t\t\tcurrTime = new Date().getTime();\n\n\t\t\t\tif ( instance.group.length < 1 || current.opts.wheel === false || ( current.opts.wheel === 'auto' && current.type !== 'image' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tif ( current.$slide.hasClass( 'fancybox-animated' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\te = e.originalEvent || e;\n\n\t\t\t\tif ( currTime - prevTime < 250 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tprevTime = currTime;\n\n\t\t\t\tinstance[ ( -e.deltaY || -e.deltaX || e.wheelDelta || -e.detail ) < 0 ? 'next' : 'previous' ]();\n\n\t\t\t});\n\t\t}\n    });\n\n}( document, window.jQuery || jQuery ));\n"],"names":["$","format","defaults","window","document","undefined","fn","fancybox","console","log","div","loop","margin","gutter","keyboard","arrows","infobar","toolbar","buttons","idleTime","smallBtn","protect","modal","image","preload","ajax","settings","data","iframe","tpl","css","attr","scrolling","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","zoom","close","arrowLeft","arrowRight","parentEl","autoFocus","backFocus","trapFocus","fullScreen","autoStart","touch","vertical","momentum","hash","media","slideShow","speed","thumbs","hideOnClose","axis","wheel","onInit","noop","beforeLoad","afterLoad","beforeShow","afterShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","current","event","type","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","lang","i18n","en","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","de","$W","$D","called","requestAFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","transitionEnd","t","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","style","forceRedraw","$el","length","offsetHeight","FancyBox","content","opts","index","self","this","extend","isMobile","isArray","id","group","currIndex","parseInt","prevIndex","prevPos","currPos","firstRun","createGroup","$lastFocus","activeElement","blur","slides","init","prototype","$scrollDiv","$container","buttonStr","firstItem","firstItemOpts","scrollbarWidth","scrollTop","scrollLeft","getInstance","addClass","test","navigator","userAgent","MSStream","body","scrollHeight","innerHeight","appendTo","offsetWidth","clientWidth","remove","append","each","value","translate","replace","$refs","container","forEach","item","find","trigger","activate","jumpTo","obj","str","arr","match","n","items","makeArray","i","$item","found","src","srcParts","isPlainObject","options","$orig","videoFormat","charAt","$thumb","caption","apply","split","shift","filter","inArray","push","addEvents","removeEvents","on","e","stopPropagation","preventDefault","previous","next","isScaledDown","originalEvent","update","stage","hide","show","instance","isClosing","target","hasClass","is","has","focus","keycode","keyCode","which","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","isDragging","hideControls","off","clearInterval","duration","pos","slide","canvasWidth","currentPos","transitionProps","groupLen","isAnimating","createSlide","updateControls","getTranslate","$slide","isMoved","left","top","forcedDuration","isNumeric","removeClass","loadSlide","stop","Math","round","width","animate","removeAttr","complete","children","isLoaded","revealContent","isComplete","updateSlide","scaleToActual","x","y","imgPos","posX","posY","scaleX","scaleY","$what","$content","canvasHeight","height","newImgWidth","newImgHeight","hasError","updateCursor","SlideShow","isActive","scaleToFit","end","getFitPos","minRatio","imgWidth","imgHeight","min","floor","key","setTranslate","centerSlide","opacity","nextWidth","nextHeight","isZoomable","fitPos","isFunction","rez","canPan","abs","ajaxLoad","isLoading","setImage","setIframe","setContent","setError","showLoading","url","success","textStatus","error","jqXHR","one","abort","temp","pxRatio","windowWidth","srcset","devicePixelRatio","innerWidth","map","ret","trim","substring","postfix","sort","a","b","j","thumb","$ghost","setBigImage","$img","$image","clearTimeout","timouts","naturalWidth","naturalHeight","hideLoading","max","readyState","$iframe","Date","getTime","isReady","scrollWidth","$body","$wrap","frameWidth","frameHeight","contents","ignore","contentWindow","documentElement","ceil","outerWidth","outerHeight","prepend","empty","hasOwnProperty","parent","$placeholder","insertAfter","nodeType","html","after","$smallBtn","$spinner","first","button","effect","effectClassName","start","getThumbPos","slidePos","thumbPos","offset","ownerDocument","element","elementRect","getBoundingClientRect","parentRects","parentElement","every","parentRect","visiblePixelX","right","visiblePixelY","bottom","isElementVisible","parseFloat","siblings","prev","isVisible","d","done","cleanUp","name","args","Array","slice","call","arguments","unshift","force","$caption","isHiddenControls","prop","toggleClass","toggleControls","version","command","open","all","destroy","createTouch","use3d","getComputedStyle","getPropertyValue","documentMode","matrix","eq","indexOf","transRez","exec","props","position","transform","to","leaveAnimationName","propertyName","selector","_run","$target","currentTarget","isDefaultPrevented","jQuery","params","param","youtube","matcher","autoplay","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","api","metacafe","dailymotion","additionalInfos","vine","instagram","gmap_place","gmap_search","urlParams","paramObj","provider","providerName","providerOpts","m","p","decodeURIComponent","contentProvider","cancelAFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","pointers","result","touches","changedTouches","pageX","pageY","clientX","clientY","distance","point2","point1","what","sqrt","pow","isClickable","get","onclick","atts","attributes","nodeName","substr","isScrollable","overflowY","overflowX","horizontal","clientHeight","Guestures","$bg","bg","$stage","proxy","ontouchstart","isTouchDevice","realPoints","startPoints","startEvent","canTap","isPanning","isSwiping","isZooming","isScrolling","sliderStartPos","sliderLastPos","contentStartPos","contentLastPos","startTime","distanceX","distanceY","addEventListener","onscroll","centerPointStartX","centerPointStartY","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","ontouchmove","newPoints","onSwipe","onPan","onZoom","angle","swiping","requestId","atan2","PI","inTransition","limitMovement","minTranslateX","minTranslateY","maxTranslateX","maxTranslateY","newOffsetX","newOffsetY","currentOffsetX","currentOffsetY","currentWidth","currentHeight","limitPosition","newWidth","newHeight","pinchRatio","translateFromZoomingX","translateFromZoomingY","centerPointEndX","centerPointEndY","translateFromTranslatingX","newPos","ontouchend","dMs","panning","zooming","endPoints","removeEventListener","onTap","velocityX","velocityY","speedX","endPanning","endZooming","endSwiping","len","reset","where","tapX","tapY","process","prefix","action","addBack","tapped","timer","$button","toggle","set","clear","keypress","hidden","val","fnMap","FullScreen","request","elem","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","Boolean","fullscreenElement","enabled","fullscreenEnabled","fullscreenchange","FancyThumbs","$grid","$list","Thumbs","second","create","list","widthRatio","heightRatio","$parent","thumbWidth","thumbHeight","share","string","entityMap","f","location","encodeURIComponent","String","s","text","click","href","escapeSelector","sel","ch","asCodePoint","charCodeAt","toString","shouldCreateHistory","currentHash","timerID","parseUrl","pop","gallery","join","triggerFromUrl","getGalleryID","origHash","history","title","pathname","search","replaceState","prevTime","currTime","deltaY","deltaX","wheelDelta","detail"],"version":3,"file":"index.e75c3f57.js.map"}